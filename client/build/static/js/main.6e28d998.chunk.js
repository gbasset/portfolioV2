(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{108:function(e,t,n){e.exports={containerImages:"ImagesAdministration_containerImages__3l4xP",btnAddImg:"ImagesAdministration_btnAddImg__3ESKj"}},202:function(e,t,n){},221:function(e,t,n){},226:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){},253:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},267:function(e,t){},381:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(19),i=n.n(s),r=(n(202),n(5)),o=n(2),u=Object(c.createContext)(),l=function(e){var t=e.children,n=JSON.parse(window.sessionStorage.getItem("authenticated"))||!1,a=JSON.parse(window.sessionStorage.getItem("authBody"))||null,s=Object(c.useState)(n),i=Object(r.a)(s,2),l=i[0],j=i[1],d=Object(c.useState)(a),b=Object(r.a)(d,2),O=b[0],m=b[1];Object(c.useEffect)((function(){l&&(window.sessionStorage.setItem("authenticated",JSON.stringify(l)),window.sessionStorage.setItem("authBody",JSON.stringify(O)))}),[l,O]);var h={authenticated:l,setAuthenticated:j,authBody:O,setAuthBody:m};return Object(o.jsx)(u.Provider,{value:h,children:t})},j=n(17),d=n(40),b=n(11),O=n(18),m=n.n(O),h=(n(221),n(9)),f=n(197),x=function(e){var t=e.component,n=e.mustBeAdmin,a=Object(f.a)(e,["component","mustBeAdmin"]),s=Object(c.useContext)(u),i=s.authenticated,r=s.authBody;return Object(o.jsx)(j.b,{render:function(e){return n?!0===i&&r.body.isAdmin?Object(o.jsx)(t,Object(h.a)(Object(h.a)({},a),e)):Object(o.jsx)(j.a,{to:{pathname:"/profile",state:{from:e.location}}}):!0===i?Object(o.jsx)(t,Object(h.a)(Object(h.a)({},a),e)):Object(o.jsx)(j.a,{to:{pathname:"/login",state:{from:e.location}}})}})};n(226);function p(e){var t=e.name,n=e.value,c=e.label,a=e.onChangeFunction,s=e.type,i=e.width,r=void 0===i?"":i;return Object(o.jsxs)("div",{className:"input-container",children:[Object(o.jsx)("label",{htmlFor:"name",children:c}),Object(o.jsx)("input",{style:{width:r},className:"input-text-name-zone",id:t,name:t,type:s,value:n||"",onChange:function(e){return a(e)}})]})}var g=n(45),v=function(e){var t=Object(c.useState)(e),n=Object(r.a)(t,2),a=n[0],s=n[1];return{state:a,setstate:s,reset:function(){return s(e)},bind:{onChange:function(e){s(Object(h.a)(Object(h.a)({},a),{},Object(g.a)({},e.target.name,e.target.value)))}}}};n(227);function C(e){var t=e.children,n=e.onClickFunction,c=e.message,a=void 0===c?"":c,s=e.color,i=void 0===s?"primary":s,r=e.style,u=void 0===r?"":r,l=e.disabled,j=void 0!==l&&l,d=e.size,b=void 0===d?"":d,O=e.icon,m=e.iconPosition,h=void 0===m?"before":m,f=e.disabledBtn,x=["btnUi"],p="btn";if("outline"===u&&(p+="_"+u),p+="_"+i,x.push(p),j&&x.push("btn_disabled"),b){var g="btn_"+b;x.push(g)}return Object(o.jsxs)("button",{disabled:f||!1,className:x.join(" "),onClick:function(e){return n(e)},children:[O&&"after"!==h&&Object(o.jsx)("i",{className:"".concat(O)}),a&&Object(o.jsx)("span",{className:"btn_txt",children:a}),t&&Object(o.jsx)("span",{className:"btn_txt",children:t}),O&&"after"===h&&Object(o.jsx)("i",{className:"".concat(O)})]})}n(228);function N(e){var t=e.handleSubmit,n=v({email:"",password:""}),c=n.state,a=n.bind,s=n.reset;return Object(o.jsxs)("form",{action:"",onSubmit:function(e){return t(e,c,s)},className:"container-auth",children:[Object(o.jsx)("h1",{children:"Connexion au compte"}),Object(o.jsxs)("div",{className:"body-form",children:[Object(o.jsx)(p,{name:"email",type:"email",label:"Email",value:c.email,onChangeFunction:a.onChange}),Object(o.jsx)(p,{type:"password",name:"password",label:"Password",value:c.password,onChangeFunction:a.onChange})]}),Object(o.jsx)(C,{message:"Valider",onClickFunction:function(e){return t(e,c,s)}})]})}n(229);function k(){var e=Object(j.g)(),t=Object(c.useContext)(u),n=t.setAuthenticated,a=t.setAuthBody;return Object(o.jsxs)("div",{className:"container-login",children:[Object(o.jsx)(b.a,{}),Object(o.jsx)(N,{handleSubmit:function(t,c,s){t.preventDefault();var i=b.b.loading("Chargement ...");m.a.post("/login",c).then((function(t){n(!0),a(t.data),setTimeout((function(){b.b.dismiss(i),b.b.success("Connexion r\xe9ussie!",{icon:"\ud83e\udd73"})}),500),setTimeout((function(){e.push("/dashboard/projects"),s()}),1300)})).catch((function(e){console.log(e),n(!1),setTimeout((function(){b.b.dismiss(i),b.b.error("Une erreur est survenue pendant la tentative de connexion",{icon:"\u2639\ufe0f"})}),500)}))}})]})}var y=n.p+"static/media/monde.7e1d4533.jpg",S=n.p+"static/media/foret.4147de96.jpg",_=n.p+"static/media/encoreautre.0fd93eb9.jpg",F=n.p+"static/media/montagne.7e72006e.jpg",w=n.p+"static/media/otremontagne.e1e9503d.jpg";function A(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=(t[0],t[1],Object(c.useState)(0)),a=Object(r.a)(n,2),s=a[0],i=a[1],u=Object(c.useState)([{url:y,id:0,name:"La nature est brute"},{url:S,id:1,name:"La nature est lumineuse"},{url:_,id:2,name:"La nature est sinueuse"},{url:F,id:3,name:"La nature est profonde"},{url:w,id:4,name:"La nature trace nos chemins"}]),l=Object(r.a)(u,2),j=l[0];l[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"News"}),Object(o.jsx)("div",{className:"container",children:j.map((function(e){return Object(o.jsxs)("div",{className:s===e.id?"pannel active":"pannel",onClick:function(){return i(e.id)},style:{backgroundImage:"url("+"".concat(e.url)+")"},children:[Object(o.jsx)("button",{children:"See More"}),Object(o.jsxs)("h3",{children:[" ",e.name," "]})]},e.id)}))})]})}function I(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Home"}),Object(o.jsx)(A,{})]})}function B(){return Object(o.jsx)("div",{children:Object(o.jsx)("h1",{children:"H2H2H2H2H2H bababa"})})}n(230);var T=n(190);function P(e){var t=e.authBody,n=Object(c.useContext)(u),a=n.setAuthenticated,s=(n.setAuthBody,Object(j.g)()),i=Object(c.useState)(),l=Object(r.a)(i,2),d=l[0],b=l[1],O=function(e){s.push("/".concat(e)),b("/".concat(e))};return Object(c.useEffect)((function(){b(s.location.pathname)}),[s]),Object(o.jsx)("div",{children:Object(o.jsxs)("nav",{className:"container-navigation-user",children:[Object(o.jsx)("header",{children:Object(o.jsxs)("div",{className:"container-user-infos",children:["\ud83d\udc7c\ud83c\udffb Bonjour DIEU !",Object(o.jsx)("div",{className:"container-name-user",children:Object(o.jsxs)("span",{children:[t&&t.email," ",Object(o.jsx)(T.a,{className:"item-admin",onClick:function(e){e.preventDefault(),window.sessionStorage.setItem("authenticated",!1),window.sessionStorage.setItem("authBody",null),a(!1),setTimeout((function(){s.push("/login")}),500)}})," "]})})]})}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{onClick:function(e){return O("dashboard/projects")},className:"/dashboard/projects"===d||d&&d.includes("project")?"isActive":"",children:"Mes projets"}),Object(o.jsx)("li",{onClick:function(e){return O("dashboard/languages")},className:"/dashboard/languages"===d?"isActive":"",children:"Languages / Tags"}),Object(o.jsx)("li",{onClick:function(e){return O("dashboard/images")},className:"/dashboard/images"===d?"isActive":"",children:"Images"}),Object(o.jsx)("li",{onClick:function(){setTimeout((function(){s.push("/home")}),500)},children:"Return to website"})]})]})})}function M(e,t,n,a){var s=Object(c.useState)(null),i=Object(r.a)(s,2),o=i[0],u=i[1],l=Object(c.useState)(null),j=Object(r.a)(l,2),d=j[0],b=j[1];return Object(c.useEffect)((function(){t&&e&&m.a[n](t,a).then((function(e){u(e.data)})).catch((function(e){b(e.response.data)}))}),[e]),{response:o,error:d}}n(231),n(232);function H(e){return Object(o.jsxs)("div",{className:"containerConfirmPopin",children:[Object(o.jsx)("div",{className:"confirmOverlay",onClick:function(){return e.cancel()}}),Object(o.jsxs)("div",{className:"contenuPopin",children:[Object(o.jsxs)("div",{className:"btn-closePopin",onClick:function(){return e.cancel()},children:["Close ",Object(o.jsx)("i",{className:"fas fa-times"})]}),Object(o.jsxs)("div",{className:"textContentPopin",children:[Object(o.jsx)("p",{className:"titlePopin",children:e.title}),e.message?Object(o.jsx)("p",{className:"textPopin",children:e.message}):null]}),Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"btn_group_l",children:e.children})})]})]})}var D=n(22),E=n.n(D),L=(n(62),n(103)),U=n(191);function z(){var e=Object(c.useContext)(u).authBody,t=Object(c.useState)(),n=Object(r.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(!0),l=Object(r.a)(i,2),O=l[0],h=l[1],f=Object(c.useState)(!0),x=Object(r.a)(f,2),p=x[0],g=x[1],v=Object(c.useState)(),N=Object(r.a)(v,2),k=N[0],y=N[1],S=M(O,"/projects","get"),_=S.response,F=(S.error,Object(j.g)());Object(c.useEffect)((function(){O&&O&&(h(!1),g(!0))}),[O]),Object(c.useEffect)((function(){s(_),g(!1)}),[_]);return a?Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(P,{}),Object(o.jsxs)("div",{className:"container-admin",children:[k&&Object(o.jsx)(H,{cancel:function(){return y()},title:"Voullez vous vraiment supprimer ".concat(k.name," ?"),children:Object(o.jsxs)("div",{className:"btnCenter",children:[Object(o.jsx)(C,{onClickFunction:function(e){y()},message:"Annuler",color:"alert",style:"primary"}),Object(o.jsx)(C,{onClickFunction:function(){var t;t=k,g(!0),m.a.delete("/private/project/".concat(t._id,"/?token=").concat(e.token)).then((function(e){setTimeout((function(){y(),h(!0),b.b.success("Suppression r\xe9ussie!",{icon:"\ud83e\udd73"})}),500)})).catch((function(e){g(!1),b.b.error("Une erreur est survenue pendant la suppression",{icon:"\u2639\ufe0f"})}))},message:"Supprimer",color:"success",style:"outline"})]})}),Object(o.jsx)("h1",{children:"Liste des projets"}),Object(o.jsx)("div",{className:"btn-create",children:Object(o.jsx)(C,{message:"Cr\xe9er un projet",onClickFunction:function(){F.push("/project/new")}})}),Object(o.jsxs)("div",{className:"container-projects",children:[Object(o.jsx)(b.a,{}),p&&Object(o.jsx)("div",{className:"container-loader",children:Object(o.jsx)(E.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:1e4})}),a&&a.map((function(e){return Object(o.jsxs)("div",{className:"project",children:[Object(o.jsx)(d.b,{className:"lien",to:{pathname:"/project/"+e._id,state:{idProject:e._id}},children:Object(o.jsx)("h2",{children:e.name})}),Object(o.jsx)("p",{children:e.description}),Object(o.jsxs)("div",{className:"projects",children:[Object(o.jsx)("span",{children:Object(o.jsx)(d.b,{className:"lien",to:{pathname:"/project/"+e._id,state:{idProject:e._id}},children:Object(o.jsxs)("div",{className:"",children:[" ",Object(o.jsx)(U.a,{})]})})}),Object(o.jsx)("span",{className:"delete-item",onClick:function(){return y(e)},children:Object(o.jsx)(L.a,{})})]})]},e._id)}))]})]})]}):Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(P,{}),Object(o.jsx)("div",{className:"container-admin",children:Object(o.jsx)("div",{className:"container-loader",children:Object(o.jsx)(E.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:3e3})})})]})}n(253);var J=n(192);function G(e){var t=e.isOpen||!1,n=e.width,c=e.height,a=e.minHeight,s={};return n&&(s.width=n+"px"),c&&(s.height=c+"px"),a&&(s.minHeight="min(100%, "+a+"px)"),t?Object(o.jsx)("div",{className:e.zindexMax?"modal_outer zindexMax":"modal_outer",tabIndex:"-1",children:Object(o.jsxs)("div",{className:"modal_inner",style:s,children:[!e.noClose&&Object(o.jsx)("a",{onClick:function(t){return function(t){"function"===typeof e.onClose&&e.onClose(t)}(t)},className:"modal_close",title:"Close",children:Object(o.jsx)(J.a,{})}),e.children]})}):""}var R=n(71),V=n.n(R);function Y(e){var t=e.item,n=e.natureOfElement,a=e.registerChange,s=e.deleteElement,i=Object(c.useState)(!1),u=Object(r.a)(i,2),l=u[0],j=u[1],d=Object(c.useState)(!1),b=Object(r.a)(d,2),O=b[0],m=b[1],f=v(Object(h.a)({},t)),x=f.state,g=f.setstate,N=f.bind;return Object(o.jsxs)("div",{children:[O&&Object(o.jsx)(H,{cancel:function(){return m(!1)},title:"Voullez vous vraiment supprimer ".concat(x.value," ?"),children:Object(o.jsxs)("div",{className:"btnCenter",children:[Object(o.jsx)(C,{onClickFunction:function(e){m(!1)},message:"Annuler",color:"alert",style:"primary"}),Object(o.jsx)(C,{onClickFunction:function(){s(x,m)},message:"Supprimer",color:"success",style:"outline"})]})}),Object(o.jsxs)(G,{isOpen:l,width:"500",height:"350",onClose:function(){return j(!1)},children:[Object(o.jsxs)("div",{className:"modal_header has_border",children:["Modifier le ",n," ",x.label]}),Object(o.jsxs)("div",{className:"modal_body",children:[Object(o.jsx)(p,{name:"value",label:"Value",width:"50%",value:x.value,onChangeFunction:N.onChange}),Object(o.jsx)(p,{name:"label",label:"Label",width:"50%",value:x.label,onChangeFunction:N.onChange})]}),Object(o.jsxs)("div",{className:" modal_footer modal_footer_center ",children:[Object(o.jsx)(C,{onClickFunction:function(){g(Object(h.a)({},t)),j(!1)},message:"Annuler",color:"alert"}),Object(o.jsx)(C,{onClickFunction:function(){a(x,j)},message:"Ok"})]})]}),Object(o.jsxs)("div",{className:V.a.languageItem,children:[Object(o.jsx)("span",{onClick:function(){return j(!0)},children:t.value}),Object(o.jsx)("div",{onClick:function(){return m(!0)},children:"Supprimer"})]})]})}function W(){var e=Object(c.useContext)(u).authBody,t=Object(c.useState)(!1),n=Object(r.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(!0),l=Object(r.a)(i,2),j=l[0],d=l[1],O=Object(c.useState)("languages"),h=Object(r.a)(O,2),f=h[0],x=h[1],g=M(j,"/private/".concat(f,"?token=").concat(e.token),"get"),N=g.response,k=(g.error,Object(c.useState)()),y=Object(r.a)(k,2),S=y[0],_=y[1],F=Object(c.useState)(!1),w=Object(r.a)(F,2),A=w[0],I=w[1],B=v({vale:"",label:""}),T=B.state,H=B.setstate,D=B.bind;function L(e){x(e),d(!0),I(!0)}Object(c.useEffect)((function(){N&&(I(!1),_(N),d(!1))}),[N]);return S?Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(P,{}),Object(o.jsxs)(G,{isOpen:a,width:"500",height:"350",onClose:function(){return s(!1)},children:[Object(o.jsxs)("div",{className:"modal_header has_border",children:["Cr\xe9er un nouvel \xe9l\xe9ment pour la liste des ",f]}),Object(o.jsxs)("div",{className:"modal_body",children:[Object(o.jsx)(p,{name:"value",label:"Value",width:"50%",value:T.value,onChangeFunction:D.onChange}),Object(o.jsx)(p,{name:"label",label:"Label",width:"50%",value:T.label,onChangeFunction:D.onChange})]}),Object(o.jsxs)("div",{className:" modal_footer modal_footer_center ",children:[Object(o.jsx)(C,{onClickFunction:function(){H({vale:"",label:""}),s(!1)},message:"Annuler",color:"alert"}),Object(o.jsx)(C,{onClickFunction:function(t){return n=T,I(!0),void m.a.post("/private/".concat(f,"/?token=").concat(e.token),n).then((function(e){s(!1),setTimeout((function(){d(!0),b.b.success("Sauvegarde r\xe9ussie!",{icon:"\ud83e\udd73"})}),500)})).catch((function(e){I(!1),b.b.error("Une erreur est survenue pendant la sauvegarde",{icon:"\u2639\ufe0f"})}));var n},message:"Cr\xe9er"})]})]}),Object(o.jsxs)("div",{className:"container-admin",children:[Object(o.jsx)(b.a,{}),Object(o.jsx)("h1",{children:"Gestion des languages et des tags"}),A&&Object(o.jsx)("div",{className:"container-loader",children:Object(o.jsx)(E.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:1e4})}),Object(o.jsxs)("div",{className:V.a.btnGroup,children:[Object(o.jsx)(C,{message:"Languages",onClickFunction:function(){return L("languages")},style:"outline",color:"languages"===f?"primary":"secondary"}),Object(o.jsx)(C,{message:"Tags",onClickFunction:function(){return L("tags")},style:"outline",color:"languages"!==f?"primary":"secondary"})]}),Object(o.jsx)("div",{className:V.a.btnAdd,children:Object(o.jsx)(C,{message:"Ajouter",onClickFunction:function(){return s(!0)}})}),Object(o.jsx)("section",{children:S&&S.map((function(t){return Object(o.jsx)(Y,{item:t,natureOfElement:f,registerChange:function(t,n){return function(t,n){I(!0),m.a.patch("/private/".concat(f,"/").concat(t._id,"/?token=").concat(e.token),t).then((function(e){setTimeout((function(){n(!1),d(!0),b.b.success("Sauvegarde r\xe9ussie!",{icon:"\ud83e\udd73"})}),500)})).catch((function(e){I(!1),b.b.error("Une erreur est survenue pendant la sauvegarde",{icon:"\u2639\ufe0f"})}))}(t,n)},deleteElement:function(t,n){return function(t,n){I(!0),m.a.delete("/private/".concat(f,"/").concat(t._id,"/?token=").concat(e.token)).then((function(e){setTimeout((function(){n(!1),d(!0),b.b.success("Suppression r\xe9ussie!",{icon:"\ud83e\udd73"})}),500)})).catch((function(e){I(!1),b.b.error("Une erreur est survenue pendant la suppression",{icon:"\u2639\ufe0f"})}))}(t,n)}},t._id)}))})]})]}):Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(P,{}),Object(o.jsx)("div",{className:"container-admin",children:Object(o.jsx)("div",{className:"container-loader",children:Object(o.jsx)(E.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:1e4})})})]})}var q=n(86),K=n.n(q);function Z(e){var t=e.image,n=(e.setelementToDelete,e.selectImage),a=e.projectData,s=e.imageHome,i=Object(c.useState)(""),u=Object(r.a)(i,2),l=u[0],j=u[1];var d=function(e){e=Math.abs(parseInt(e,10));for(var t=[[1,"octets"],[1024,"ko"],[1048576,"Mo"],[1073741824,"Go"],[1099511627776,"To"]],n=0;n<t.length;n++)if(e<t[n][0])return(e/t[n-1][0]).toFixed(2)+" "+t[n-1][1]}(t.bytes);return Object(c.useEffect)((function(){!function(){if(a&&!s){var e=a.images.find((function(e){return e.name===t.public_id}))?K.a.imageTransformSelected:"";j(e)}else if(a&&s){var n=a.imageHome.name===t.public_id?K.a.imageTransformSelected:"";j(n)}}()}),[t,n]),Object(o.jsxs)("div",{className:K.a.imageContainer,onClick:n?function(){return n(t)}:null,children:[Object(o.jsx)("img",{className:l,src:t.secure_url,alt:t.filename}),Object(o.jsxs)("span",{children:[" ",d," . ",t.format]})]})}var Q=n(108),X=n.n(Q),$=n(109),ee=n.n($),te=n(193);n(382);function ne(e){var t=e.modalIsOppen,n=e.setModalIsOppen,a=e.setFetchData,s=Object(c.useContext)(u).authBody,i=Object(c.useState)(""),l=Object(r.a)(i,2),j=l[0],d=l[1],O=Object(c.useState)(""),m=Object(r.a)(O,2),h=m[0],f=m[1],x=Object(c.useState)(),p=Object(r.a)(x,2),g=p[0],v=p[1],N=Object(c.useState)(""),k=Object(r.a)(N,2),y=(k[0],k[1],Object(c.useState)("")),S=Object(r.a)(y,2),_=(S[0],S[1]),F=Object(c.useState)(!1),w=Object(r.a)(F,2),A=w[0],I=w[1],B=function(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){f(t.result)}},T=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/private/upload?token=".concat(s.token),{method:"POST",body:JSON.stringify({data:t}),headers:{"Content-Type":"application/json"}});case 3:d(""),f(""),b.b.success("Sauvegarde r\xe9ussie!",{icon:"\ud83e\udd73"}),a(!0),setTimeout((function(){I(!1),n(!1)}),500),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),I(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)(G,{isOpen:t,width:"800",height:"650",onClose:function(){return n(!1)},children:[Object(o.jsx)("div",{className:"modal_header has_border",children:"Uploader une nouvelle image"}),Object(o.jsxs)("div",{className:"modal_body",children:[Object(o.jsx)(b.a,{}),Object(o.jsx)("input",{id:"fileInput",type:"file",name:"image",onChange:function(e){var t=e.target.files[0];B(t),v(t),d(e.target.value)},value:j,className:"form-input"}),h&&Object(o.jsx)("img",{src:h,alt:"chosen",style:{height:"300px"}}),Object(o.jsxs)("div",{className:"container-btn-upload",children:[Object(o.jsx)(C,{onClickFunction:function(){return n(!1)},message:"Annuler",color:"warning"}),Object(o.jsx)(C,{onClickFunction:function(e){return function(e){if(e.preventDefault(),g){var t=new FileReader;t.readAsDataURL(g),t.onloadend=function(){I(!0),T(t.result)},t.onerror=function(){console.error("AHHHHHHHH!!"),I(!1),_("something went wrong!")}}}(e)},message:"Uploader une image",color:"success"})]}),A&&Object(o.jsx)("div",{className:"container-loader",children:Object(o.jsx)(E.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:1e5})})]})]})})}function ce(){var e=Object(c.useContext)(u).authBody,t=Object(c.useState)(!1),n=Object(r.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(!0),l=Object(r.a)(i,2),j=l[0],d=l[1],O=Object(c.useState)(),h=Object(r.a)(O,2),f=h[0],x=h[1],p=Object(c.useState)(!0),g=Object(r.a)(p,2),v=g[0],N=g[1],k=Object(c.useState)(),y=Object(r.a)(k,2),S=y[0],_=y[1],F=M(j,"/private/images?token=".concat(e.token),"get"),w=F.response;F.error;Object(c.useEffect)((function(){w&&(N(!1),x(w),d(!1))}),[w]);return f?Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(P,{}),Object(o.jsxs)("div",{className:"container-admin",children:[Object(o.jsx)("h1",{children:"Gestion des images"}),S&&Object(o.jsx)(H,{cancel:function(){return _()},title:"Voullez vous vraiment supprimer ".concat(S.filename," ?"),children:Object(o.jsxs)("div",{className:"btnCenter",children:[Object(o.jsx)(C,{onClickFunction:function(e){_()},message:"Annuler",color:"alert",style:"primary"}),Object(o.jsx)(C,{onClickFunction:function(){var t;t=S,N(!0),m.a.delete("/private/project/".concat(t._id,"/?token=").concat(e.token)).then((function(e){setTimeout((function(){_(),d(!0),b.b.success("Suppression r\xe9ussie!",{icon:"\ud83e\udd73"})}),500)})).catch((function(e){N(!1),b.b.error("Une erreur est survenue pendant la suppression",{icon:"\u2639\ufe0f"})}))},message:"Supprimer",color:"success",style:"outline"})]})}),a&&Object(o.jsx)(ne,{modalIsOppen:a,setFetchData:function(e){return d(e)},setModalIsOppen:function(e){return s(e)}}),Object(o.jsx)("div",{className:X.a.btnAddImg,children:Object(o.jsx)(C,{message:"Ajouter des images",onClickFunction:function(){return s(!0)}})}),Object(o.jsxs)("div",{className:X.a.containerImages,children:[Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(b.a,{}),f&&f.map((function(e){return Object(o.jsx)(Z,{image:e,setelementToDelete:function(e){return _(e)}},e.asset_id)}))]}),v&&Object(o.jsx)("div",{className:"container-loader",children:Object(o.jsx)(E.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:1e4})})]})]})]}):Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(P,{}),Object(o.jsx)("div",{className:"container-admin",children:Object(o.jsx)("div",{className:"container-loader",children:Object(o.jsx)(E.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:1e4})})})]})}function ae(){var e=Object(c.useContext)(u),t=(e.authenticated,e.setAuthenticated),n=e.authBody;e.setAuthBody;return Object(o.jsxs)("div",{style:{display:"flex"},children:[Object(o.jsx)(P,{setAuthenticated:function(e){return t(e)},authBody:n}),Object(o.jsx)("div",{})]})}var se=n(61);n(255);function ie(e){var t=e.onChangeFunction,n=e.name,c=e.value,a=e.label;return Object(o.jsxs)("div",{className:"container-textarea-custom",children:[Object(o.jsx)("label",{htmlFor:"name",children:a}),Object(o.jsx)("textarea",{name:n,value:c,onChange:function(e){return t(e)}})]})}n(256);var re=n(87),oe=n(196),ue=(n(257),n(310),n(195)),le=n(12),je=n.n(le),de=n(386);function be(){var e=Object(j.h)().id,t=Object(oe.a)(),n=Object(c.useState)({calendarFocused:!1}),a=Object(r.a)(n,2),s=a[0],i=a[1],l=Object(c.useContext)(u).authBody,d=Object(c.useState)(!1),O=Object(r.a)(d,2),f=O[0],x=O[1],v=Object(c.useState)(!1),N=Object(r.a)(v,2),k=N[0],y=N[1],S=Object(c.useState)(),_=Object(r.a)(S,2),F=_[0],w=_[1],A=Object(c.useState)(),I=Object(r.a)(A,2),B=I[0],T=I[1],H=Object(c.useState)(),D=Object(r.a)(H,2),L=D[0],U=D[1],z=Object(c.useState)(),J=Object(r.a)(z,2),R=J[0],V=J[1],Y=Object(c.useState)(),W=Object(r.a)(Y,2),q=W[0],K=W[1],Q=Object(c.useState)(),X=Object(r.a)(Q,2),$=X[0],ee=X[1],te=Object(c.useState)(je()()),ne=Object(r.a)(te,2),ce=ne[0],ae=ne[1],le=M(f,"/project/".concat(e),"get"),be=le.response,Oe=(le.error,Object(c.useState)(!1)),me=Object(r.a)(Oe,2),he=me[0],fe=me[1],xe=Object(c.useState)(!1),pe=Object(r.a)(xe,2),ge=pe[0],ve=pe[1],Ce=Object(c.useState)([]),Ne=Object(r.a)(Ce,2),ke=Ne[0],ye=Ne[1],Se=Object(c.useState)(!1),_e=Object(r.a)(Se,2),Fe=_e[0],we=_e[1],Ae=Object(c.useState)({name:"",url:""}),Ie=Object(r.a)(Ae,2),Be=Ie[0],Te=Ie[1],Pe=Object(c.useState)(!1),Me=Object(r.a)(Pe,2),He=Me[0],De=Me[1],Ee=Object(c.useState)(),Le=Object(r.a)(Ee,2);Le[0],Le[1];Object(c.useEffect)((function(){m.a.get("/private/languages?token=".concat(l.token)).then((function(e){T(e.data)})).catch((function(e){b.b.error("Une erreur est survenue pendant la r\xe9cup\xe9ration des languages",{icon:"\u2639\ufe0f"})})),m.a.get("/private/tags?token=".concat(l.token)).then((function(e){K(e.data)})).catch((function(e){b.b.error("Une erreur est survenue pendant la r\xe9cup\xe9ration des tags",{icon:"\u2639\ufe0f"})}))}),[]),Object(c.useEffect)((function(){"new"!==e?(x(!0),De(!0)):(Te({name:"",url:""}),w({devices:["desktop"],language:[],tags:[],isMainProject:!1,links:[],name:"",description:"",images:[],imageHome:{name:"",url:""},year:je()()}),y(!0))}),[e]),Object(c.useEffect)((function(){be&&(U(be[0].devices.map((function(e){return{value:e,label:e}}))),V(be[0].language.map((function(e){return{value:e,label:e}}))),ee(be[0].tags.map((function(e){return{value:e,label:e}}))),ae(je()(be[0].year)),w(be[0]),De(!1),x(!1))}),[be]);var Ue=function(e){w(Object(h.a)(Object(h.a)({},F),{},Object(g.a)({},e.target.name,e.target.value)))},ze=function(e){var t=Object(h.a)({},Be);t[e.target.name]=e.target.value,Te(t)},Je=function(e){fe(!0),Te(e||{name:"",url:"",id:Object(de.a)()})};Object(c.useEffect)((function(){(Fe||ge)&&(De(!0),m.a.get("/private/images?token=".concat(l.token)).then((function(e){De(!1),ye(e.data)})).catch((function(e){De(!1),b.b.error("Une erreur est survenue pendant la r\xe9cup\xe9ratin des images",{icon:"\u2639\ufe0f"})})))}),[Fe,ge]);return F?Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(P,{}),Object(o.jsxs)(G,{isOpen:he,width:"500",height:"350",onClose:function(){return fe(!1)},children:[Object(o.jsxs)("div",{className:"modal_header has_border",children:["Ajouter un lien au projet ",F&&F.name]}),Object(o.jsxs)("div",{className:"modal_body",children:[Object(o.jsx)(p,{name:"name",label:"Type",width:"50%",value:Be.name,onChangeFunction:ze}),Object(o.jsx)(p,{name:"url",label:"Url",width:"50%",value:Be.url,onChangeFunction:ze})]}),Object(o.jsxs)("div",{className:" modal_footer modal_footer_center ",children:[Be._id&&Object(o.jsx)(C,{onClickFunction:function(){return function(){var e=F.links.filter((function(e){return e.id!==Be.id}));w(Object(h.a)(Object(h.a)({},F),{},{links:Object(se.a)(e)})),fe(!1)}()},message:"Supprimer",color:"success"}),Object(o.jsx)(C,{onClickFunction:function(){return fe(!1)},message:"Annuler",color:"alert"}),Object(o.jsx)(C,{onClickFunction:function(){return function(){if(Be._id){var e=Be,t=F.links.filter((function(e){return e._id!==Be._id}));w(Object(h.a)(Object(h.a)({},F),{},{links:[].concat(Object(se.a)(t),[e])})),fe(!1)}else{var n=F.links.find((function(e){return e.id===Be.id}));if(n){n=Be;var c=F.links.filter((function(e){return e.id!==Be.id}));w(Object(h.a)(Object(h.a)({},F),{},{links:[].concat(Object(se.a)(c),[n])})),fe(!1)}else{var a=Object(h.a)({},F),s=Object(h.a)({},Be);a.links.push(s),w(a),fe(!1)}}}()},message:"Ok"})]})]}),Fe&&Object(o.jsxs)(G,{isOpen:Fe,width:"800",height:"800",onClose:function(){return we(!1)},children:[Object(o.jsxs)("div",{className:"modal_header has_border",children:["Ajouter des images au projet ",F&&F.name]}),Object(o.jsxs)("div",{className:"modal_body",children:[He&&Object(o.jsx)("div",{className:"container-loader",children:Object(o.jsx)(E.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:1e4})}),Object(o.jsx)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",flexWrap:"wrap"},children:ke&&ke.map((function(e){return Object(o.jsx)(Z,{image:e,selectImage:function(e){return function(e){var t=Object(se.a)(F.images);t.find((function(t){return t.name===e.public_id}))?(t=t.filter((function(t){return t.name!==e.public_id})),w((function(e){return Object(h.a)(Object(h.a)({},e),{},{images:t})}))):t=[].concat(Object(se.a)(t),[{name:e.public_id,url:e.secure_url}]),w((function(e){return Object(h.a)(Object(h.a)({},e),{},{images:t})}))}(e)},projectData:F},e.asset_id)}))})]}),Object(o.jsx)("div",{className:" modal_footer modal_footer_center ",children:Object(o.jsx)(C,{onClickFunction:function(){return we(!1)},message:"Ok"})})]}),ge&&Object(o.jsxs)(G,{isOpen:ge,width:"800",height:"800",onClose:function(){return ve(!1)},children:[Object(o.jsxs)("div",{className:"modal_header has_border",children:["Changer l'image du projet ",F&&F.name]}),Object(o.jsxs)("div",{className:"modal_body",children:[He&&Object(o.jsx)("div",{className:"container-loader",children:Object(o.jsx)(E.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:1e4})}),Object(o.jsx)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",flexWrap:"wrap"},children:ke&&ke.map((function(e){return Object(o.jsx)(Z,{image:e,selectImage:function(e){return function(e){var t={url:e.secure_url,name:e.public_id};w((function(e){return Object(h.a)(Object(h.a)({},e),{},{imageHome:t})}))}(e)},projectData:F,imageHome:!0},e.asset_id)}))})]}),Object(o.jsx)("div",{className:" modal_footer modal_footer_center ",children:Object(o.jsx)(C,{onClickFunction:function(){return ve(!1)},message:"Ok"})})]}),Object(o.jsxs)("div",{className:"container-admin",children:[Object(o.jsx)(b.a,{}),He&&Object(o.jsx)("div",{className:"container-loader",children:Object(o.jsx)(E.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:100})}),Object(o.jsxs)("div",{className:"container-project",children:[Object(o.jsxs)("h1",{children:["Page d'\xe9dition du projet ",F&&F.name]}),Object(o.jsx)("div",{className:"btn-edit",children:Object(o.jsx)(C,{message:k?"Cr\xe9er":"Enregistrer",onClickFunction:k?function(){De(!0),m.a.post("/private/projects/?token=".concat(l.token),F).then((function(e){setTimeout((function(){b.b.success("Sauvegarde r\xe9ussie!",{icon:"\ud83e\udd73"}),De(!1)}),500)})).catch((function(e){De(!1),b.b.error("Une erreur est survenue pendant la cr\xe9ation",{icon:"\u2639\ufe0f"})}))}:function(){De(!0),m.a.patch("/private/project/".concat(e,"/?token=").concat(l.token),F).then((function(e){setTimeout((function(){b.b.success("Sauvegarde r\xe9ussie!",{icon:"\ud83e\udd73"}),De(!1)}),500)})).catch((function(e){De(!1),b.b.error("Une erreur est survenue pendant la sauvegarde",{icon:"\u2639\ufe0f"})}))}})}),Object(o.jsx)("label",{children:"Dates du projet"}),Object(o.jsx)(ue.SingleDatePicker,{date:ce,id:"your_unique_id",numberOfMonths:1,displayFormat:"DD/MM/YYYY",focused:s.calendarFocused,onFocusChange:function(e){var t=e.focused;i((function(){return{calendarFocused:t}}))},onDateChange:function(e){ae((function(){return e})),w(Object(h.a)(Object(h.a)({},F),{},{year:e}))},isOutsideRange:function(){return!1}}),Object(o.jsx)(p,{name:"name",label:"Nom du projet",width:"50%",value:F&&F.name,onChangeFunction:Ue}),Object(o.jsxs)("div",{className:"container-select-devices",children:[Object(o.jsx)("label",{children:"Devices"}),Object(o.jsx)(re.a,{closeMenuOnSelect:!0,value:L&&L,components:t,menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(h.a)(Object(h.a)({},e),{},{zIndex:1e4})}},menuPosition:"fixed",isMulti:!0,options:[{value:"desktop",label:"desktop"},{value:"mobile",label:"mobile"}],placeholder:"Selectionner des devices",onChange:function(e){var t=e&&e.map((function(e){return e.value}));U(e),w(Object(h.a)(Object(h.a)({},F),{},{devices:t}))}})]}),Object(o.jsxs)("div",{className:"container-select-devices",children:[Object(o.jsx)("label",{children:"Languages"}),Object(o.jsx)(re.a,{closeMenuOnSelect:!0,value:R&&R,components:t,menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(h.a)(Object(h.a)({},e),{},{zIndex:1e4})}},menuPosition:"fixed",isMulti:!0,options:B&&B,placeholder:"Selectionner des languages",onChange:function(e){var t=e&&e.map((function(e){return e.value}));V(e),w(Object(h.a)(Object(h.a)({},F),{},{language:t}))}})]}),Object(o.jsxs)("div",{className:"container-select-devices",children:[Object(o.jsx)("label",{children:"Tags"}),Object(o.jsx)(re.a,{closeMenuOnSelect:!0,value:$&&$,components:t,menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(h.a)(Object(h.a)({},e),{},{zIndex:1e4})}},menuPosition:"fixed",isMulti:!0,options:q&&q,placeholder:"Selectionner des tags",onChange:function(e){var t=e&&e.map((function(e){return e.value}));ee(e),w(Object(h.a)(Object(h.a)({},F),{},{tags:t}))}})]}),Object(o.jsx)("label",{htmlFor:"isMain",children:"Projet principal"}),Object(o.jsx)("input",{type:"checkbox",checked:F&&F.isMainProject,onChange:function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value,n=Object(h.a)({},F);n.isMainProject=t,w(n)}}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"liens",children:"Liens"})," ",Object(o.jsx)("span",{onClick:function(){return Je()},children:"Add"}),Object(o.jsx)("ul",{children:F&&F.links.map((function(e){return Object(o.jsx)("li",{onClick:function(){return Je(e)},children:e.url},e._id)}))})]}),Object(o.jsx)(ie,{name:"description",label:"Description",value:F&&F.description,onChangeFunction:Ue}),Object(o.jsxs)("div",{className:"images-administration",children:[Object(o.jsx)("h2",{onClick:function(){return ve(!0)},children:"Image de pr\xe9sentation"}),Object(o.jsx)("div",{className:"images-project-list",children:F&&Object(o.jsx)("img",{className:"image-project",src:F.imageHome.url,alt:F.imageHome.name})}),Object(o.jsx)("h2",{onClick:function(){return we(!0)},children:"Images du projet"}),Object(o.jsx)("div",{className:"images-project-list",children:F&&F.images.map((function(e){return Object(o.jsx)("img",{className:"image-project",src:e.url,alt:e.name})}))})]})]})]})]}):Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(P,{}),Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"container-loader",children:Object(o.jsx)(E.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:1e4})})})]})}var Oe=function(){var e=Object(j.g)(),t=Object(c.useState)([]),n=Object(r.a)(t,2),a=(n[0],n[1],Object(c.useState)([])),s=Object(r.a)(a,2),i=(s[0],s[1],Object(c.useState)(0)),u=Object(r.a)(i,2);return u[0],u[1],Object(o.jsx)(d.a,{history:e,children:Object(o.jsx)(l,{children:Object(o.jsxs)(j.d,{children:[Object(o.jsx)(j.b,{path:"/home",component:I,exact:!0}),Object(o.jsx)(j.b,{path:"/news",component:A,exact:!0}),Object(o.jsx)(j.b,{path:"/login",component:k,exact:!0}),Object(o.jsx)(x,{exact:!0,path:"/profile",component:B}),Object(o.jsx)(x,{exact:!0,path:"/dashboard",component:ae,mustBeAdmin:!0}),Object(o.jsx)(x,{path:"/dashboard/languages",component:W,mustBeAdmin:!0}),Object(o.jsx)(x,{path:"/dashboard/projects",component:z,mustBeAdmin:!0}),Object(o.jsx)(x,{path:"/dashboard/images",component:ce,mustBeAdmin:!0}),Object(o.jsx)(j.b,{exact:!0,path:"/project/:id",component:be}),Object(o.jsx)(j.a,{exact:!0,from:"/",to:"/login"})]})})})},me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,387)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(Oe,{})}),document.getElementById("root")),me()},71:function(e,t,n){e.exports={btnAdd:"LanguagesTagsManager_btnAdd__1MhoZ",btnGroup:"LanguagesTagsManager_btnGroup__2upCs",languageItem:"LanguagesTagsManager_languageItem__226Mo"}},86:function(e,t,n){e.exports={imageContainer:"ImageItem_imageContainer__2ilkc",imageTransformSelected:"ImageItem_imageTransformSelected__3-bzL"}}},[[381,1,2]]]);
//# sourceMappingURL=main.6e28d998.chunk.js.map