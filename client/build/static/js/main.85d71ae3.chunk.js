(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{188:function(e,t,n){e.exports={imageContainer:"ImageItem_imageContainer__2ilkc"}},189:function(e,t,n){e.exports={containerImages:"ImagesAdministration_containerImages__3l4xP"}},199:function(e,t,n){},218:function(e,t,n){},223:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){},226:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){},252:function(e,t,n){},253:function(e,t,n){},264:function(e,t){},378:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(18),i=n.n(s),o=(n(199),n(8)),r=n(2),u=Object(c.createContext)(),l=function(e){var t=e.children,n=JSON.parse(window.sessionStorage.getItem("authenticated"))||!1,a=JSON.parse(window.sessionStorage.getItem("authBody"))||null,s=Object(c.useState)(n),i=Object(o.a)(s,2),l=i[0],j=i[1],d=Object(c.useState)(a),b=Object(o.a)(d,2),O=b[0],m=b[1];Object(c.useEffect)((function(){l&&(window.sessionStorage.setItem("authenticated",JSON.stringify(l)),window.sessionStorage.setItem("authBody",JSON.stringify(O)))}),[l,O]);var h={authenticated:l,setAuthenticated:j,authBody:O,setAuthBody:m};return Object(r.jsx)(u.Provider,{value:h,children:t})},j=n(17),d=n(42),b=n(14),O=n(21),m=n.n(O),h=(n(218),n(10)),f=n(194),x=function(e){var t=e.component,n=e.mustBeAdmin,a=Object(f.a)(e,["component","mustBeAdmin"]),s=Object(c.useContext)(u),i=s.authenticated,o=s.authBody;return Object(r.jsx)(j.b,{render:function(e){return n?!0===i&&o.body.isAdmin?Object(r.jsx)(t,Object(h.a)(Object(h.a)({},a),e)):Object(r.jsx)(j.a,{to:{pathname:"/profile",state:{from:e.location}}}):!0===i?Object(r.jsx)(t,Object(h.a)(Object(h.a)({},a),e)):Object(r.jsx)(j.a,{to:{pathname:"/login",state:{from:e.location}}})}})};n(223);function p(e){var t=e.name,n=e.value,c=e.label,a=e.onChangeFunction,s=e.type,i=e.width,o=void 0===i?"":i;return Object(r.jsxs)("div",{className:"input-container",children:[Object(r.jsx)("label",{htmlFor:"name",children:c}),Object(r.jsx)("input",{style:{width:o},className:"input-text-name-zone",id:t,name:t,type:s,value:n||"",onChange:function(e){return a(e)}})]})}var v=n(44),g=function(e){var t=Object(c.useState)(e),n=Object(o.a)(t,2),a=n[0],s=n[1];return{state:a,setstate:s,reset:function(){return s(e)},bind:{onChange:function(e){s(Object(h.a)(Object(h.a)({},a),{},Object(v.a)({},e.target.name,e.target.value)))}}}};n(224);function C(e){var t=e.children,n=e.onClickFunction,c=e.message,a=void 0===c?"":c,s=e.color,i=void 0===s?"primary":s,o=e.style,u=void 0===o?"":o,l=e.disabled,j=void 0!==l&&l,d=e.size,b=void 0===d?"":d,O=e.icon,m=e.iconPosition,h=void 0===m?"before":m,f=e.disabledBtn,x=["btnUi"],p="btn";if("outline"===u&&(p+="_"+u),p+="_"+i,x.push(p),j&&x.push("btn_disabled"),b){var v="btn_"+b;x.push(v)}return Object(r.jsxs)("button",{disabled:f||!1,className:x.join(" "),onClick:function(e){return n(e)},children:[O&&"after"!==h&&Object(r.jsx)("i",{className:"".concat(O)}),a&&Object(r.jsx)("span",{className:"btn_txt",children:a}),t&&Object(r.jsx)("span",{className:"btn_txt",children:t}),O&&"after"===h&&Object(r.jsx)("i",{className:"".concat(O)})]})}n(225);function S(e){var t=e.handleSubmit,n=g({email:"",password:""}),c=n.state,a=n.bind,s=n.reset;return Object(r.jsxs)("form",{action:"",onSubmit:function(e){return t(e,c,s)},className:"container-auth",children:[Object(r.jsx)("h1",{children:"Connexion au compte"}),Object(r.jsxs)("div",{className:"body-form",children:[Object(r.jsx)(p,{name:"email",type:"email",label:"Email",value:c.email,onChangeFunction:a.onChange}),Object(r.jsx)(p,{type:"password",name:"password",label:"Password",value:c.password,onChangeFunction:a.onChange})]}),Object(r.jsx)(C,{message:"Valider",onClickFunction:function(e){return t(e,c,s)}})]})}n(226);function N(){var e=Object(j.g)(),t=Object(c.useContext)(u),n=t.setAuthenticated,a=t.setAuthBody;return Object(r.jsxs)("div",{className:"container-login",children:[Object(r.jsx)(b.a,{}),Object(r.jsx)(S,{handleSubmit:function(t,c,s){t.preventDefault();var i=b.b.loading("Chargement ...");m.a.post("/login",c).then((function(t){n(!0),a(t.data),setTimeout((function(){b.b.dismiss(i),b.b.success("Connexion r\xe9ussie!",{icon:"\ud83e\udd73"})}),500),setTimeout((function(){e.push("/dashboard/projects"),s()}),1300)})).catch((function(e){console.log(e),n(!1),console.log(Object(h.a)({},c)),setTimeout((function(){b.b.dismiss(i),b.b.error("Une erreur est survenue pendant la tentative de connexion",{icon:"\u2639\ufe0f"})}),500)}))}})]})}var k=n.p+"static/media/monde.7e1d4533.jpg",y=n.p+"static/media/foret.4147de96.jpg",_=n.p+"static/media/encoreautre.0fd93eb9.jpg",F=n.p+"static/media/montagne.7e72006e.jpg",w=n.p+"static/media/otremontagne.e1e9503d.jpg";function A(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=(t[0],t[1],Object(c.useState)(0)),a=Object(o.a)(n,2),s=a[0],i=a[1],u=Object(c.useState)([{url:k,id:0,name:"La nature est brute"},{url:y,id:1,name:"La nature est lumineuse"},{url:_,id:2,name:"La nature est sinueuse"},{url:F,id:3,name:"La nature est profonde"},{url:w,id:4,name:"La nature trace nos chemins"}]),l=Object(o.a)(u,2),j=l[0];l[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"News"}),Object(r.jsx)("div",{className:"container",children:j.map((function(e){return Object(r.jsxs)("div",{className:s===e.id?"pannel active":"pannel",onClick:function(){return i(e.id)},style:{backgroundImage:"url("+"".concat(e.url)+")"},children:[Object(r.jsx)("button",{children:"See More"}),Object(r.jsxs)("h3",{children:[" ",e.name," "]})]},e.id)}))})]})}function B(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Home"}),Object(r.jsx)(A,{})]})}function I(){return Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"H2H2H2H2H2H bababa"})})}n(227);var P=n(186);function T(e){var t=e.authBody,n=Object(c.useContext)(u),a=n.setAuthenticated,s=(n.setAuthBody,Object(j.g)()),i=Object(c.useState)(),l=Object(o.a)(i,2),d=l[0],b=l[1],O=function(e){s.push("/".concat(e)),b("/".concat(e))};return Object(c.useEffect)((function(){b(s.location.pathname)}),[s]),console.log(d),Object(r.jsx)("div",{children:Object(r.jsxs)("nav",{className:"container-navigation-user",children:[Object(r.jsx)("header",{children:Object(r.jsxs)("div",{className:"container-user-infos",children:["\ud83d\udc7c\ud83c\udffb Bonjour DIEU !",Object(r.jsx)("div",{className:"container-name-user",children:Object(r.jsxs)("span",{children:[t&&t.email," ",Object(r.jsx)(P.a,{className:"item-admin",onClick:function(e){e.preventDefault(),window.sessionStorage.setItem("authenticated",!1),window.sessionStorage.setItem("authBody",null),a(!1),setTimeout((function(){s.push("/login")}),500)}})," "]})})]})}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{onClick:function(e){return O("dashboard/projects")},className:"/dashboard/projects"===d||d&&d.includes("project")?"isActive":"",children:"Mes projets"}),Object(r.jsx)("li",{onClick:function(e){return O("dashboard/languages")},className:"/dashboard/languages"===d?"isActive":"",children:"Languages / Tags"}),Object(r.jsx)("li",{onClick:function(e){return O("dashboard/images")},className:"/dashboard/images"===d?"isActive":"",children:"Images"}),Object(r.jsx)("li",{onClick:function(){setTimeout((function(){s.push("/home")}),500)},children:"Return to website"})]})]})})}function M(e,t,n,a){var s=Object(c.useState)(null),i=Object(o.a)(s,2),r=i[0],u=i[1],l=Object(c.useState)(null),j=Object(o.a)(l,2),d=j[0],b=j[1];return Object(c.useEffect)((function(){t&&e&&m.a[n](t,a).then((function(e){u(e.data)})).catch((function(e){b(e.response.data)}))}),[e]),{response:r,error:d}}n(228);function E(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!0),i=Object(o.a)(s,2),u=i[0],l=i[1],b=M(u,"/projects","get"),O=b.response,m=(b.error,Object(j.g)());Object(c.useEffect)((function(){u&&u&&l(!1)}),[u]),Object(c.useEffect)((function(){a(O)}),[O]);return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(T,{}),Object(r.jsxs)("div",{className:"container-admin",children:[Object(r.jsx)("h1",{children:"Liste projets"}),Object(r.jsx)(C,{message:"Cr\xe9er un projet",onClickFunction:function(){m.push("/project/new")}}),Object(r.jsx)("div",{className:"container-projects",children:n&&n.map((function(e){return Object(r.jsxs)("div",{className:"project",children:[Object(r.jsx)("h1",{children:e.name}),Object(r.jsx)("p",{children:e.description}),Object(r.jsx)(d.b,{className:"lien",to:{pathname:"/project/"+e._id,state:{idProject:e._id}},children:Object(r.jsxs)("div",{className:"",children:[" Editer ",e.name]})})]},e._id)}))})]})]})}n(229);var H=n(187);function D(e){var t=e.isOpen||!1,n=e.width,c=e.height,a=e.minHeight,s={};return n&&(s.width=n+"px"),c&&(s.height=c+"px"),a&&(s.minHeight="min(100%, "+a+"px)"),t?Object(r.jsx)("div",{className:e.zindexMax?"modal_outer zindexMax":"modal_outer",tabIndex:"-1",children:Object(r.jsxs)("div",{className:"modal_inner",style:s,children:[!e.noClose&&Object(r.jsx)("a",{onClick:function(t){return function(t){"function"===typeof e.onClose&&e.onClose(t)}(t)},className:"modal_close",title:"Close",children:Object(r.jsx)(H.a,{})}),e.children]})}):""}n(230);function L(e){return Object(r.jsxs)("div",{className:"containerConfirmPopin",children:[Object(r.jsx)("div",{className:"confirmOverlay",onClick:function(){return e.cancel()}}),Object(r.jsxs)("div",{className:"contenuPopin",children:[Object(r.jsxs)("div",{className:"btn-closePopin",onClick:function(){return e.cancel()},children:["Close ",Object(r.jsx)("i",{className:"fas fa-times"})]}),Object(r.jsxs)("div",{className:"textContentPopin",children:[Object(r.jsx)("p",{className:"titlePopin",children:e.title}),e.message?Object(r.jsx)("p",{className:"textPopin",children:e.message}):null]}),Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"btn_group_l",children:e.children})})]})]})}function U(e){var t=e.item,n=e.natureOfElement,a=e.registerChange,s=e.deleteElement,i=Object(c.useState)(!1),u=Object(o.a)(i,2),l=u[0],j=u[1],d=Object(c.useState)(!1),b=Object(o.a)(d,2),O=b[0],m=b[1],f=g(Object(h.a)({},t)),x=f.state,v=f.setstate,S=f.bind;return Object(r.jsxs)("div",{children:[O&&Object(r.jsx)(L,{cancel:function(){return m(!1)},title:"Voullez vous vraiment supprimer ".concat(x.value," ?"),children:Object(r.jsxs)("div",{className:"btnCenter",children:[Object(r.jsx)(C,{onClickFunction:function(e){m(!1)},message:"Annuler",color:"alert",style:"primary"}),Object(r.jsx)(C,{onClickFunction:function(){s(x,m)},message:"Supprimer",color:"success",style:"outline"})]})}),Object(r.jsxs)(D,{isOpen:l,width:"500",height:"350",onClose:function(){return j(!1)},children:[Object(r.jsxs)("div",{className:"modal_header has_border",children:["Modifier le ",n," ",x.label]}),Object(r.jsxs)("div",{className:"modal_body",children:[Object(r.jsx)(p,{name:"value",label:"Value",width:"50%",value:x.value,onChangeFunction:S.onChange}),Object(r.jsx)(p,{name:"label",label:"Label",width:"50%",value:x.label,onChangeFunction:S.onChange})]}),Object(r.jsxs)("div",{className:" modal_footer modal_footer_center ",children:[Object(r.jsx)(C,{onClickFunction:function(){v(Object(h.a)({},t)),j(!1)},message:"Annuler",color:"alert"}),Object(r.jsx)(C,{onClickFunction:function(){a(x,j)},message:"Ok"})]})]}),Object(r.jsx)("h2",{onClick:function(){return j(!0)},children:t.value}),Object(r.jsx)("div",{onClick:function(){return m(!0)},children:"Supprimer"})]})}var z=n(58),J=n.n(z);n(71);function R(){var e=Object(c.useContext)(u).authBody,t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(!0),l=Object(o.a)(i,2),j=l[0],d=l[1],O=Object(c.useState)("languages"),h=Object(o.a)(O,2),f=h[0],x=h[1],v=M(j,"/private/".concat(f,"?token=").concat(e.token),"get"),S=v.response,N=(v.error,Object(c.useState)([])),k=Object(o.a)(N,2),y=k[0],_=k[1],F=Object(c.useState)(!1),w=Object(o.a)(F,2),A=w[0],B=w[1],I=g({vale:"",label:""}),P=I.state,E=I.setstate,H=I.bind;function L(e){x(e),d(!0),B(!1)}Object(c.useEffect)((function(){S&&(B(!1),_(S),d(!1))}),[S]);return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(T,{}),Object(r.jsxs)(D,{isOpen:a,width:"500",height:"350",onClose:function(){return s(!1)},children:[Object(r.jsxs)("div",{className:"modal_header has_border",children:["Cr\xe9er un nouvel \xe9l\xe9ment pour la liste des ",f]}),Object(r.jsxs)("div",{className:"modal_body",children:[Object(r.jsx)(p,{name:"value",label:"Value",width:"50%",value:P.value,onChangeFunction:H.onChange}),Object(r.jsx)(p,{name:"label",label:"Label",width:"50%",value:P.label,onChangeFunction:H.onChange})]}),Object(r.jsxs)("div",{className:" modal_footer modal_footer_center ",children:[Object(r.jsx)(C,{onClickFunction:function(){E({vale:"",label:""}),s(!1)},message:"Annuler",color:"alert"}),Object(r.jsx)(C,{onClickFunction:function(t){return n=P,B(!0),void m.a.post("/private/".concat(f,"/?token=").concat(e.token),n).then((function(e){setTimeout((function(){s(!1),d(!0),b.b.success("Sauvegarde r\xe9ussie!",{icon:"\ud83e\udd73"})}),500)})).catch((function(e){B(!1),b.b.error("Une erreur est survenue pendant la sauvegarde",{icon:"\u2639\ufe0f"})}));var n},message:"Cr\xe9er"})]})]}),Object(r.jsxs)("div",{className:"container-admin",children:[Object(r.jsx)(b.a,{}),Object(r.jsx)("h1",{children:"Gestion des languages et des tags"}),A&&Object(r.jsx)("div",{className:"container-loader",children:Object(r.jsx)(J.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:100})}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:[" ",Object(r.jsx)("button",{onClick:function(){return L("languages")},children:"Languages"})]}),Object(r.jsxs)("div",{children:[" ",Object(r.jsx)("button",{onClick:function(){return L("tags")},children:"Tags"})]})]}),Object(r.jsx)(C,{message:"Ajouter",onClickFunction:function(){return s(!0)}}),Object(r.jsx)("section",{children:y&&y.map((function(t){return Object(r.jsx)(U,{item:t,natureOfElement:f,registerChange:function(t,n){return function(t,n){B(!0),m.a.patch("/private/".concat(f,"/").concat(t._id,"/?token=").concat(e.token),t).then((function(e){setTimeout((function(){n(!1),d(!0),b.b.success("Sauvegarde r\xe9ussie!",{icon:"\ud83e\udd73"})}),500)})).catch((function(e){B(!1),b.b.error("Une erreur est survenue pendant la sauvegarde",{icon:"\u2639\ufe0f"})}))}(t,n)},deleteElement:function(t,n){return function(t,n){B(!0),m.a.delete("/private/".concat(f,"/").concat(t._id,"/?token=").concat(e.token)).then((function(e){setTimeout((function(){n(!1),d(!0),b.b.success("Suppression r\xe9ussie!",{icon:"\ud83e\udd73"})}),500)})).catch((function(e){B(!1),b.b.error("Une erreur est survenue pendant la suppression",{icon:"\u2639\ufe0f"})}))}(t,n)}},t._id)}))})]})]})}var V=n(188),Y=n.n(V);function G(e){var t=e.image;var n=function(e){e=Math.abs(parseInt(e,10));for(var t=[[1,"octets"],[1024,"ko"],[1048576,"Mo"],[1073741824,"Go"],[1099511627776,"To"]],n=0;n<t.length;n++)if(e<t[n][0])return(e/t[n-1][0]).toFixed(2)+" "+t[n-1][1]}(t.bytes);return Object(r.jsxs)("div",{className:Y.a.imageContainer,children:[Object(r.jsx)("img",{src:t.secure_url,alt:t.filename}),Object(r.jsxs)("span",{children:[" ",n," . ",t.format]})]})}var q=n(189),K=n.n(q),Q=n(104),W=n.n(Q),X=n(190);n(379);function Z(e){var t=e.modalIsOppen,n=e.setModalIsOppen,a=e.setFetchData,s=Object(c.useContext)(u).authBody,i=Object(c.useState)(""),l=Object(o.a)(i,2),j=l[0],d=l[1],O=Object(c.useState)(""),m=Object(o.a)(O,2),h=m[0],f=m[1],x=Object(c.useState)(),p=Object(o.a)(x,2),v=p[0],g=p[1],S=Object(c.useState)(""),N=Object(o.a)(S,2),k=(N[0],N[1],Object(c.useState)("")),y=Object(o.a)(k,2),_=(y[0],y[1]),F=Object(c.useState)(!1),w=Object(o.a)(F,2),A=(w[0],w[1]),B=function(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){f(t.result)}},I=function(){var e=Object(X.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/private/upload?token=".concat(s.token),{method:"POST",body:JSON.stringify({data:t}),headers:{"Content-Type":"application/json"}});case 3:d(""),f(""),b.b.success("Sauvegarde r\xe9ussie!",{icon:"\ud83e\udd73"}),a(!0),setTimeout((function(){A(!1),n(!1)}),500),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),A(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)(D,{isOpen:t,width:"800",height:"650",onClose:function(){return n(!1)},children:[Object(r.jsx)("div",{className:"modal_header has_border",children:"Uploader une nouvelle image"}),Object(r.jsxs)("div",{className:"modal_body",children:[Object(r.jsx)(b.a,{}),Object(r.jsx)("input",{id:"fileInput",type:"file",name:"image",onChange:function(e){var t=e.target.files[0];B(t),g(t),d(e.target.value)},value:j,className:"form-input"}),h&&Object(r.jsx)("img",{src:h,alt:"chosen",style:{height:"300px"}}),Object(r.jsxs)("div",{className:"container-btn-upload",children:[Object(r.jsx)(C,{onClickFunction:function(){return n(!1)},message:"Annuler",color:"warning"}),Object(r.jsx)(C,{onClickFunction:function(e){return function(e){if(e.preventDefault(),v){console.log("selectedFile",v);var t=new FileReader;t.readAsDataURL(v),t.onloadend=function(){A(!0),I(t.result)},t.onerror=function(){console.error("AHHHHHHHH!!"),A(!1),_("something went wrong!")},console.log("reader",t)}}(e)},message:"Uploader une image",color:"success"})]})]})]})})}function $(){var e=Object(c.useContext)(u).authBody,t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(!0),l=Object(o.a)(i,2),j=l[0],d=l[1],b=Object(c.useState)([]),O=Object(o.a)(b,2),m=O[0],h=O[1],f=Object(c.useState)(!0),x=Object(o.a)(f,2),p=(x[0],x[1]),v=M(j,"/private/images?token=".concat(e.token),"get"),g=v.response;v.error;return Object(c.useEffect)((function(){g&&(p(!1),h(g),d(!1))}),[g]),Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(T,{}),Object(r.jsxs)("div",{className:"container-admin",children:[Object(r.jsx)("h1",{children:"Gestion des images"}),a&&Object(r.jsx)(Z,{modalIsOppen:a,setFetchData:function(e){return d(e)},setModalIsOppen:function(e){return s(e)}}),Object(r.jsx)(C,{message:"Ajouter des images",onClickFunction:function(){return s(!0)}}),Object(r.jsx)("div",{className:K.a.containerImages,children:m&&m.map((function(e){return Object(r.jsx)(G,{image:e},e.asset_id)}))})]})]})}function ee(){var e=Object(c.useContext)(u),t=(e.authenticated,e.setAuthenticated),n=e.authBody;e.setAuthBody;return Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsx)(T,{setAuthenticated:function(e){return t(e)},authBody:n}),Object(r.jsx)("div",{})]})}var te=n(105);n(252);function ne(e){var t=e.onChangeFunction,n=e.name,c=e.value,a=e.label;return Object(r.jsxs)("div",{className:"container-textarea-custom",children:[Object(r.jsx)("label",{htmlFor:"name",children:a}),Object(r.jsx)("textarea",{name:n,value:c,onChange:function(e){return t(e)}})]})}n(253);var ce=n(84),ae=n(193),se=(n(254),n(307),n(192)),ie=n(11),oe=n.n(ie),re=n(383);function ue(){var e=Object(j.h)().id,t=Object(ae.a)(),n=Object(c.useState)({calendarFocused:!1}),a=Object(o.a)(n,2),s=a[0],i=a[1],l=Object(c.useContext)(u).authBody,d=Object(c.useState)(!1),O=Object(o.a)(d,2),f=O[0],x=O[1],g=Object(c.useState)(!1),S=Object(o.a)(g,2),N=S[0],k=S[1],y=Object(c.useState)(),_=Object(o.a)(y,2),F=_[0],w=_[1],A=Object(c.useState)(),B=Object(o.a)(A,2),I=B[0],P=B[1],E=Object(c.useState)(),H=Object(o.a)(E,2),L=H[0],U=H[1],z=Object(c.useState)(),R=Object(o.a)(z,2),V=R[0],Y=R[1],G=Object(c.useState)(),q=Object(o.a)(G,2),K=q[0],Q=q[1],W=Object(c.useState)(),X=Object(o.a)(W,2),Z=X[0],$=X[1],ee=Object(c.useState)(oe()()),ie=Object(o.a)(ee,2),ue=ie[0],le=ie[1],je=M(f,"/project/".concat(e),"get"),de=je.response,be=(je.error,Object(c.useState)(!1)),Oe=Object(o.a)(be,2),me=Oe[0],he=Oe[1],fe=Object(c.useState)({name:"",url:""}),xe=Object(o.a)(fe,2),pe=xe[0],ve=xe[1],ge=Object(c.useState)(!1),Ce=Object(o.a)(ge,2),Se=Ce[0],Ne=Ce[1];Object(c.useEffect)((function(){m.a.get("/private/languages?token=".concat(l.token)).then((function(e){P(e.data)})).catch((function(e){b.b.error("Une erreur est survenue pendant la r\xe9cup\xe9ration des languages",{icon:"\u2639\ufe0f"})})),m.a.get("/private/tags?token=".concat(l.token)).then((function(e){Q(e.data)})).catch((function(e){b.b.error("Une erreur est survenue pendant la r\xe9cup\xe9ration des tags",{icon:"\u2639\ufe0f"})}))}),[]),console.log("projectData",F),Object(c.useEffect)((function(){"new"!==e?(x(!0),Ne(!0)):(w({devices:["desktop"],language:[],tags:[],isMainProject:!1,links:[],name:"",description:"",images:[],imageHome:{},year:oe()()}),k(!0))}),[e]),Object(c.useEffect)((function(){de&&(U(de[0].devices.map((function(e){return{value:e,label:e}}))),Y(de[0].language.map((function(e){return{value:e,label:e}}))),$(de[0].tags.map((function(e){return{value:e,label:e}}))),le(oe()(de[0].year)),w(de[0]),Ne(!1),x(!1))}),[de]);var ke=function(e){w(Object(h.a)(Object(h.a)({},F),{},Object(v.a)({},e.target.name,e.target.value)))},ye=function(e){var t=Object(h.a)({},pe);t[e.target.name]=e.target.value,ve(t)},_e=function(e){he(!0),ve(e||{name:"",url:"",id:Object(re.a)()})};return console.log("isLoading",Se),Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(T,{}),Object(r.jsxs)(D,{isOpen:me,width:"500",height:"350",onClose:function(){return he(!1)},children:[Object(r.jsxs)("div",{className:"modal_header has_border",children:["Ajouter un lien au projet ",F&&F.name]}),Object(r.jsxs)("div",{className:"modal_body",children:[Object(r.jsx)(p,{name:"name",label:"Type",width:"50%",value:pe.name,onChangeFunction:ye}),Object(r.jsx)(p,{name:"url",label:"Url",width:"50%",value:pe.url,onChangeFunction:ye})]}),Object(r.jsxs)("div",{className:" modal_footer modal_footer_center ",children:[Object(r.jsx)(C,{onClickFunction:function(){return he(!1)},message:"Annuler",color:"alert"}),Object(r.jsx)(C,{onClickFunction:function(){return function(){if(pe._id){var e=pe,t=F.links.filter((function(e){return e._id!==pe._id}));w(Object(h.a)(Object(h.a)({},F),{},{links:[].concat(Object(te.a)(t),[e])})),he(!1)}else{var n=F.links.find((function(e){return e.id===pe.id}));if(n){n=pe;var c=F.links.filter((function(e){return e.id!==pe.id}));w(Object(h.a)(Object(h.a)({},F),{},{links:[].concat(Object(te.a)(c),[n])})),he(!1)}else{var a=Object(h.a)({},F),s=Object(h.a)({},pe);a.links.push(s),w(a),he(!1)}}}()},message:"Ok"})]})]}),Object(r.jsxs)("div",{className:"container-admin",children:[Object(r.jsx)(b.a,{}),Se&&Object(r.jsx)("div",{className:"container-loader",children:Object(r.jsx)(J.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:100})}),Object(r.jsxs)("div",{className:"container-project",children:[Object(r.jsxs)("h1",{children:["Page d'\xe9dition du projet ",F&&F.name]}),Object(r.jsx)("label",{children:"Dates de l'\xe9v\xe9nement"}),Object(r.jsx)(se.SingleDatePicker,{date:ue,id:"your_unique_id",numberOfMonths:1,displayFormat:"DD/MM/YYYY",focused:s.calendarFocused,onFocusChange:function(e){var t=e.focused;i((function(){return{calendarFocused:t}}))},onDateChange:function(e){le((function(){return e})),w(Object(h.a)(Object(h.a)({},F),{},{year:e}))},isOutsideRange:function(){return!1}}),Object(r.jsx)(p,{name:"name",label:"Nom du projet",width:"50%",value:F&&F.name,onChangeFunction:ke}),Object(r.jsxs)("div",{className:"container-select-devices",children:[Object(r.jsx)("label",{children:"Devices"}),Object(r.jsx)(ce.a,{closeMenuOnSelect:!0,value:L&&L,components:t,menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(h.a)(Object(h.a)({},e),{},{zIndex:1e4})}},menuPosition:"fixed",isMulti:!0,options:[{value:"desktop",label:"desktop"},{value:"mobile",label:"mobile"}],placeholder:"Selectionner des devices",onChange:function(e){var t=e&&e.map((function(e){return e.value}));U(e),w(Object(h.a)(Object(h.a)({},F),{},{devices:t}))}})]}),Object(r.jsxs)("div",{className:"container-select-devices",children:[Object(r.jsx)("label",{children:"Languages"}),Object(r.jsx)(ce.a,{closeMenuOnSelect:!0,value:V&&V,components:t,menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(h.a)(Object(h.a)({},e),{},{zIndex:1e4})}},menuPosition:"fixed",isMulti:!0,options:I&&I,placeholder:"Selectionner des languages",onChange:function(e){var t=e&&e.map((function(e){return e.value}));Y(e),w(Object(h.a)(Object(h.a)({},F),{},{language:t}))}})]}),Object(r.jsxs)("div",{className:"container-select-devices",children:[Object(r.jsx)("label",{children:"Tags"}),Object(r.jsx)(ce.a,{closeMenuOnSelect:!0,value:Z&&Z,components:t,menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(h.a)(Object(h.a)({},e),{},{zIndex:1e4})}},menuPosition:"fixed",isMulti:!0,options:K&&K,placeholder:"Selectionner des tags",onChange:function(e){var t=e&&e.map((function(e){return e.value}));$(e),w(Object(h.a)(Object(h.a)({},F),{},{tags:t}))}})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"liens",children:"Liens"})," ",Object(r.jsx)("span",{onClick:function(){return _e()},children:"Add"}),Object(r.jsx)("ul",{children:F&&F.links.map((function(e){return Object(r.jsx)("li",{onClick:function(){return _e(e)},children:e.url},e._id)}))})]}),Object(r.jsx)(ne,{name:"description",label:"Description",value:F&&F.description,onChangeFunction:ke}),Object(r.jsx)(C,{message:"Valider",onClickFunction:N?function(){Ne(!0),m.a.post("/private/projects/?token=".concat(l.token),F).then((function(e){setTimeout((function(){b.b.success("Sauvegarde r\xe9ussie!",{icon:"\ud83e\udd73"}),Ne(!1)}),500)})).catch((function(e){Ne(!1),b.b.error("Une erreur est survenue pendant la cr\xe9ation",{icon:"\u2639\ufe0f"})}))}:function(){Ne(!0),m.a.patch("/private/project/".concat(e,"/?token=").concat(l.token),F).then((function(e){setTimeout((function(){b.b.success("Sauvegarde r\xe9ussie!",{icon:"\ud83e\udd73"}),Ne(!1)}),500)})).catch((function(e){Ne(!1),b.b.error("Une erreur est survenue pendant la sauvegarde",{icon:"\u2639\ufe0f"})}))}})]})]})]})}var le=function(){var e=Object(j.g)(),t=Object(c.useState)([]),n=Object(o.a)(t,2),a=(n[0],n[1],Object(c.useState)([])),s=Object(o.a)(a,2),i=(s[0],s[1],Object(c.useState)(0)),u=Object(o.a)(i,2);return u[0],u[1],Object(r.jsx)(d.a,{history:e,children:Object(r.jsx)(l,{children:Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.b,{path:"/home",component:B,exact:!0}),Object(r.jsx)(j.b,{path:"/news",component:A,exact:!0}),Object(r.jsx)(j.b,{path:"/login",component:N,exact:!0}),Object(r.jsx)(x,{exact:!0,path:"/profile",component:I}),Object(r.jsx)(x,{exact:!0,path:"/dashboard",component:ee,mustBeAdmin:!0}),Object(r.jsx)(x,{path:"/dashboard/languages",component:R,mustBeAdmin:!0}),Object(r.jsx)(x,{path:"/dashboard/projects",component:E,mustBeAdmin:!0}),Object(r.jsx)(x,{path:"/dashboard/images",component:$,mustBeAdmin:!0}),Object(r.jsx)(j.b,{exact:!0,path:"/project/:id",component:ue}),Object(r.jsx)(j.a,{exact:!0,from:"/",to:"/home"})]})})})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,384)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(le,{})}),document.getElementById("root")),je()}},[[378,1,2]]]);
//# sourceMappingURL=main.85d71ae3.chunk.js.map