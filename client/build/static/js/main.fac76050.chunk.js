(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,t,n){e.exports={btnAdd:"LanguagesTagsManager_btnAdd__1MhoZ",btnGroup:"LanguagesTagsManager_btnGroup__2upCs"}},107:function(e,t,n){e.exports={imageContainer:"ImageItem_imageContainer__2ilkc",imageTransformSelected:"ImageItem_imageTransformSelected__3-bzL"}},108:function(e,t,n){e.exports={containerImages:"ImagesAdministration_containerImages__3l4xP",btnAddImg:"ImagesAdministration_btnAddImg__3ESKj"}},202:function(e,t,n){},221:function(e,t,n){},226:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){},253:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},267:function(e,t){},381:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(19),i=n.n(s),o=(n(202),n(5)),r=n(2),u=Object(c.createContext)(),l=function(e){var t=e.children,n=JSON.parse(window.sessionStorage.getItem("authenticated"))||!1,a=JSON.parse(window.sessionStorage.getItem("authBody"))||null,s=Object(c.useState)(n),i=Object(o.a)(s,2),l=i[0],j=i[1],d=Object(c.useState)(a),b=Object(o.a)(d,2),O=b[0],m=b[1];Object(c.useEffect)((function(){l&&(window.sessionStorage.setItem("authenticated",JSON.stringify(l)),window.sessionStorage.setItem("authBody",JSON.stringify(O)))}),[l,O]);var h={authenticated:l,setAuthenticated:j,authBody:O,setAuthBody:m};return Object(r.jsx)(u.Provider,{value:h,children:t})},j=n(17),d=n(43),b=n(11),O=n(18),m=n.n(O),h=(n(221),n(10)),f=n(197),x=function(e){var t=e.component,n=e.mustBeAdmin,a=Object(f.a)(e,["component","mustBeAdmin"]),s=Object(c.useContext)(u),i=s.authenticated,o=s.authBody;return Object(r.jsx)(j.b,{render:function(e){return n?!0===i&&o.body.isAdmin?Object(r.jsx)(t,Object(h.a)(Object(h.a)({},a),e)):Object(r.jsx)(j.a,{to:{pathname:"/profile",state:{from:e.location}}}):!0===i?Object(r.jsx)(t,Object(h.a)(Object(h.a)({},a),e)):Object(r.jsx)(j.a,{to:{pathname:"/login",state:{from:e.location}}})}})};n(226);function p(e){var t=e.name,n=e.value,c=e.label,a=e.onChangeFunction,s=e.type,i=e.width,o=void 0===i?"":i;return Object(r.jsxs)("div",{className:"input-container",children:[Object(r.jsx)("label",{htmlFor:"name",children:c}),Object(r.jsx)("input",{style:{width:o},className:"input-text-name-zone",id:t,name:t,type:s,value:n||"",onChange:function(e){return a(e)}})]})}var v=n(45),g=function(e){var t=Object(c.useState)(e),n=Object(o.a)(t,2),a=n[0],s=n[1];return{state:a,setstate:s,reset:function(){return s(e)},bind:{onChange:function(e){s(Object(h.a)(Object(h.a)({},a),{},Object(v.a)({},e.target.name,e.target.value)))}}}};n(227);function C(e){var t=e.children,n=e.onClickFunction,c=e.message,a=void 0===c?"":c,s=e.color,i=void 0===s?"primary":s,o=e.style,u=void 0===o?"":o,l=e.disabled,j=void 0!==l&&l,d=e.size,b=void 0===d?"":d,O=e.icon,m=e.iconPosition,h=void 0===m?"before":m,f=e.disabledBtn,x=["btnUi"],p="btn";if("outline"===u&&(p+="_"+u),p+="_"+i,x.push(p),j&&x.push("btn_disabled"),b){var v="btn_"+b;x.push(v)}return Object(r.jsxs)("button",{disabled:f||!1,className:x.join(" "),onClick:function(e){return n(e)},children:[O&&"after"!==h&&Object(r.jsx)("i",{className:"".concat(O)}),a&&Object(r.jsx)("span",{className:"btn_txt",children:a}),t&&Object(r.jsx)("span",{className:"btn_txt",children:t}),O&&"after"===h&&Object(r.jsx)("i",{className:"".concat(O)})]})}n(228);function N(e){var t=e.handleSubmit,n=g({email:"",password:""}),c=n.state,a=n.bind,s=n.reset;return Object(r.jsxs)("form",{action:"",onSubmit:function(e){return t(e,c,s)},className:"container-auth",children:[Object(r.jsx)("h1",{children:"Connexion au compte"}),Object(r.jsxs)("div",{className:"body-form",children:[Object(r.jsx)(p,{name:"email",type:"email",label:"Email",value:c.email,onChangeFunction:a.onChange}),Object(r.jsx)(p,{type:"password",name:"password",label:"Password",value:c.password,onChangeFunction:a.onChange})]}),Object(r.jsx)(C,{message:"Valider",onClickFunction:function(e){return t(e,c,s)}})]})}n(229);function S(){var e=Object(j.g)(),t=Object(c.useContext)(u),n=t.setAuthenticated,a=t.setAuthBody;return Object(r.jsxs)("div",{className:"container-login",children:[Object(r.jsx)(b.a,{}),Object(r.jsx)(N,{handleSubmit:function(t,c,s){t.preventDefault();var i=b.b.loading("Chargement ...");m.a.post("/login",c).then((function(t){n(!0),a(t.data),setTimeout((function(){b.b.dismiss(i),b.b.success("Connexion r\xe9ussie!",{icon:"\ud83e\udd73"})}),500),setTimeout((function(){e.push("/dashboard/projects"),s()}),1300)})).catch((function(e){console.log(e),n(!1),console.log(Object(h.a)({},c)),setTimeout((function(){b.b.dismiss(i),b.b.error("Une erreur est survenue pendant la tentative de connexion",{icon:"\u2639\ufe0f"})}),500)}))}})]})}var k=n.p+"static/media/monde.7e1d4533.jpg",y=n.p+"static/media/foret.4147de96.jpg",F=n.p+"static/media/encoreautre.0fd93eb9.jpg",_=n.p+"static/media/montagne.7e72006e.jpg",w=n.p+"static/media/otremontagne.e1e9503d.jpg";function A(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=(t[0],t[1],Object(c.useState)(0)),a=Object(o.a)(n,2),s=a[0],i=a[1],u=Object(c.useState)([{url:k,id:0,name:"La nature est brute"},{url:y,id:1,name:"La nature est lumineuse"},{url:F,id:2,name:"La nature est sinueuse"},{url:_,id:3,name:"La nature est profonde"},{url:w,id:4,name:"La nature trace nos chemins"}]),l=Object(o.a)(u,2),j=l[0];l[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"News"}),Object(r.jsx)("div",{className:"container",children:j.map((function(e){return Object(r.jsxs)("div",{className:s===e.id?"pannel active":"pannel",onClick:function(){return i(e.id)},style:{backgroundImage:"url("+"".concat(e.url)+")"},children:[Object(r.jsx)("button",{children:"See More"}),Object(r.jsxs)("h3",{children:[" ",e.name," "]})]},e.id)}))})]})}function B(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Home"}),Object(r.jsx)(A,{})]})}function I(){return Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"H2H2H2H2H2H bababa"})})}n(230);var T=n(190);function P(e){var t=e.authBody,n=Object(c.useContext)(u),a=n.setAuthenticated,s=(n.setAuthBody,Object(j.g)()),i=Object(c.useState)(),l=Object(o.a)(i,2),d=l[0],b=l[1],O=function(e){s.push("/".concat(e)),b("/".concat(e))};return Object(c.useEffect)((function(){b(s.location.pathname)}),[s]),console.log(d),Object(r.jsx)("div",{children:Object(r.jsxs)("nav",{className:"container-navigation-user",children:[Object(r.jsx)("header",{children:Object(r.jsxs)("div",{className:"container-user-infos",children:["\ud83d\udc7c\ud83c\udffb Bonjour DIEU !",Object(r.jsx)("div",{className:"container-name-user",children:Object(r.jsxs)("span",{children:[t&&t.email," ",Object(r.jsx)(T.a,{className:"item-admin",onClick:function(e){e.preventDefault(),window.sessionStorage.setItem("authenticated",!1),window.sessionStorage.setItem("authBody",null),a(!1),setTimeout((function(){s.push("/login")}),500)}})," "]})})]})}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{onClick:function(e){return O("dashboard/projects")},className:"/dashboard/projects"===d||d&&d.includes("project")?"isActive":"",children:"Mes projets"}),Object(r.jsx)("li",{onClick:function(e){return O("dashboard/languages")},className:"/dashboard/languages"===d?"isActive":"",children:"Languages / Tags"}),Object(r.jsx)("li",{onClick:function(e){return O("dashboard/images")},className:"/dashboard/images"===d?"isActive":"",children:"Images"}),Object(r.jsx)("li",{onClick:function(){setTimeout((function(){s.push("/home")}),500)},children:"Return to website"})]})]})})}function M(e,t,n,a){var s=Object(c.useState)(null),i=Object(o.a)(s,2),r=i[0],u=i[1],l=Object(c.useState)(null),j=Object(o.a)(l,2),d=j[0],b=j[1];return Object(c.useEffect)((function(){t&&e&&m.a[n](t,a).then((function(e){u(e.data)})).catch((function(e){b(e.response.data)}))}),[e]),{response:r,error:d}}n(231),n(232);function D(e){return Object(r.jsxs)("div",{className:"containerConfirmPopin",children:[Object(r.jsx)("div",{className:"confirmOverlay",onClick:function(){return e.cancel()}}),Object(r.jsxs)("div",{className:"contenuPopin",children:[Object(r.jsxs)("div",{className:"btn-closePopin",onClick:function(){return e.cancel()},children:["Close ",Object(r.jsx)("i",{className:"fas fa-times"})]}),Object(r.jsxs)("div",{className:"textContentPopin",children:[Object(r.jsx)("p",{className:"titlePopin",children:e.title}),e.message?Object(r.jsx)("p",{className:"textPopin",children:e.message}):null]}),Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"btn_group_l",children:e.children})})]})]})}var E=n(24),L=n.n(E),H=(n(61),n(84)),U=n(191);function z(){var e=Object(c.useContext)(u).authBody,t=Object(c.useState)(),n=Object(o.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(!0),l=Object(o.a)(i,2),O=l[0],h=l[1],f=Object(c.useState)(!0),x=Object(o.a)(f,2),p=x[0],v=x[1],g=Object(c.useState)(),N=Object(o.a)(g,2),S=N[0],k=N[1],y=M(O,"/projects","get"),F=y.response,_=(y.error,Object(j.g)());Object(c.useEffect)((function(){O&&O&&(h(!1),v(!0))}),[O]),Object(c.useEffect)((function(){s(F),v(!1)}),[F]);return a?Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(P,{}),Object(r.jsxs)("div",{className:"container-admin",children:[S&&Object(r.jsx)(D,{cancel:function(){return k()},title:"Voullez vous vraiment supprimer ".concat(S.name," ?"),children:Object(r.jsxs)("div",{className:"btnCenter",children:[Object(r.jsx)(C,{onClickFunction:function(e){k()},message:"Annuler",color:"alert",style:"primary"}),Object(r.jsx)(C,{onClickFunction:function(){var t;t=S,v(!0),m.a.delete("/private/project/".concat(t._id,"/?token=").concat(e.token)).then((function(e){setTimeout((function(){k(),h(!0),b.b.success("Suppression r\xe9ussie!",{icon:"\ud83e\udd73"})}),500)})).catch((function(e){v(!1),b.b.error("Une erreur est survenue pendant la suppression",{icon:"\u2639\ufe0f"})}))},message:"Supprimer",color:"success",style:"outline"})]})}),Object(r.jsx)("h1",{children:"Liste projets"}),Object(r.jsx)("div",{className:"btn-create",children:Object(r.jsx)(C,{message:"Cr\xe9er un projet",onClickFunction:function(){_.push("/project/new")}})}),Object(r.jsxs)("div",{className:"container-projects",children:[Object(r.jsx)(b.a,{}),p&&Object(r.jsx)("div",{className:"container-loader",children:Object(r.jsx)(L.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:1e4})}),a&&a.map((function(e){return Object(r.jsxs)("div",{className:"project",children:[Object(r.jsx)("h2",{children:e.name}),Object(r.jsx)("p",{children:e.description}),Object(r.jsx)(d.b,{className:"lien",to:{pathname:"/project/"+e._id,state:{idProject:e._id}},children:Object(r.jsxs)("div",{className:"",children:[" ",Object(r.jsx)(U.a,{})," ",e.name]})}),Object(r.jsx)("span",{className:"delete-item",onClick:function(){return k(e)},children:Object(r.jsx)(H.a,{})})]},e._id)}))]})]})]}):Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(P,{}),Object(r.jsx)("div",{className:"container-admin",children:Object(r.jsx)("div",{className:"container-loader",children:Object(r.jsx)(L.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:3e3})})})]})}n(253);var J=n(192);function V(e){var t=e.isOpen||!1,n=e.width,c=e.height,a=e.minHeight,s={};return n&&(s.width=n+"px"),c&&(s.height=c+"px"),a&&(s.minHeight="min(100%, "+a+"px)"),t?Object(r.jsx)("div",{className:e.zindexMax?"modal_outer zindexMax":"modal_outer",tabIndex:"-1",children:Object(r.jsxs)("div",{className:"modal_inner",style:s,children:[!e.noClose&&Object(r.jsx)("a",{onClick:function(t){return function(t){"function"===typeof e.onClose&&e.onClose(t)}(t)},className:"modal_close",title:"Close",children:Object(r.jsx)(J.a,{})}),e.children]})}):""}function G(e){var t=e.item,n=e.natureOfElement,a=e.registerChange,s=e.deleteElement,i=Object(c.useState)(!1),u=Object(o.a)(i,2),l=u[0],j=u[1],d=Object(c.useState)(!1),b=Object(o.a)(d,2),O=b[0],m=b[1],f=g(Object(h.a)({},t)),x=f.state,v=f.setstate,N=f.bind;return Object(r.jsxs)("div",{children:[O&&Object(r.jsx)(D,{cancel:function(){return m(!1)},title:"Voullez vous vraiment supprimer ".concat(x.value," ?"),children:Object(r.jsxs)("div",{className:"btnCenter",children:[Object(r.jsx)(C,{onClickFunction:function(e){m(!1)},message:"Annuler",color:"alert",style:"primary"}),Object(r.jsx)(C,{onClickFunction:function(){s(x,m)},message:"Supprimer",color:"success",style:"outline"})]})}),Object(r.jsxs)(V,{isOpen:l,width:"500",height:"350",onClose:function(){return j(!1)},children:[Object(r.jsxs)("div",{className:"modal_header has_border",children:["Modifier le ",n," ",x.label]}),Object(r.jsxs)("div",{className:"modal_body",children:[Object(r.jsx)(p,{name:"value",label:"Value",width:"50%",value:x.value,onChangeFunction:N.onChange}),Object(r.jsx)(p,{name:"label",label:"Label",width:"50%",value:x.label,onChangeFunction:N.onChange})]}),Object(r.jsxs)("div",{className:" modal_footer modal_footer_center ",children:[Object(r.jsx)(C,{onClickFunction:function(){v(Object(h.a)({},t)),j(!1)},message:"Annuler",color:"alert"}),Object(r.jsx)(C,{onClickFunction:function(){a(x,j)},message:"Ok"})]})]}),Object(r.jsx)("h2",{onClick:function(){return j(!0)},children:t.value}),Object(r.jsx)("div",{onClick:function(){return m(!0)},children:"Supprimer"})]})}var R=n(106),Y=n.n(R);function q(){var e=Object(c.useContext)(u).authBody,t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(!0),l=Object(o.a)(i,2),j=l[0],d=l[1],O=Object(c.useState)("languages"),h=Object(o.a)(O,2),f=h[0],x=h[1],v=M(j,"/private/".concat(f,"?token=").concat(e.token),"get"),N=v.response,S=(v.error,Object(c.useState)()),k=Object(o.a)(S,2),y=k[0],F=k[1],_=Object(c.useState)(!1),w=Object(o.a)(_,2),A=w[0],B=w[1],I=g({vale:"",label:""}),T=I.state,D=I.setstate,E=I.bind;function H(e){x(e),d(!0),B(!0)}Object(c.useEffect)((function(){N&&(B(!1),F(N),d(!1))}),[N]);return y?Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(P,{}),Object(r.jsxs)(V,{isOpen:a,width:"500",height:"350",onClose:function(){return s(!1)},children:[Object(r.jsxs)("div",{className:"modal_header has_border",children:["Cr\xe9er un nouvel \xe9l\xe9ment pour la liste des ",f]}),Object(r.jsxs)("div",{className:"modal_body",children:[Object(r.jsx)(p,{name:"value",label:"Value",width:"50%",value:T.value,onChangeFunction:E.onChange}),Object(r.jsx)(p,{name:"label",label:"Label",width:"50%",value:T.label,onChangeFunction:E.onChange})]}),Object(r.jsxs)("div",{className:" modal_footer modal_footer_center ",children:[Object(r.jsx)(C,{onClickFunction:function(){D({vale:"",label:""}),s(!1)},message:"Annuler",color:"alert"}),Object(r.jsx)(C,{onClickFunction:function(t){return n=T,B(!0),void m.a.post("/private/".concat(f,"/?token=").concat(e.token),n).then((function(e){s(!1),setTimeout((function(){d(!0),b.b.success("Sauvegarde r\xe9ussie!",{icon:"\ud83e\udd73"})}),500)})).catch((function(e){B(!1),b.b.error("Une erreur est survenue pendant la sauvegarde",{icon:"\u2639\ufe0f"})}));var n},message:"Cr\xe9er"})]})]}),Object(r.jsxs)("div",{className:"container-admin",children:[Object(r.jsx)(b.a,{}),Object(r.jsx)("h1",{children:"Gestion des languages et des tags"}),A&&Object(r.jsx)("div",{className:"container-loader",children:Object(r.jsx)(L.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:1e4})}),Object(r.jsxs)("div",{className:Y.a.btnGroup,children:[Object(r.jsx)(C,{message:"Languages",onClickFunction:function(){return H("languages")},style:"outline",color:"languages"===f?"primary":"secondary"}),Object(r.jsx)(C,{message:"Tags",onClickFunction:function(){return H("tags")},style:"outline",color:"languages"!==f?"primary":"secondary"})]}),Object(r.jsx)("div",{className:Y.a.btnAdd,children:Object(r.jsx)(C,{message:"Ajouter",onClickFunction:function(){return s(!0)}})}),Object(r.jsx)("section",{children:y&&y.map((function(t){return Object(r.jsx)(G,{item:t,natureOfElement:f,registerChange:function(t,n){return function(t,n){B(!0),m.a.patch("/private/".concat(f,"/").concat(t._id,"/?token=").concat(e.token),t).then((function(e){setTimeout((function(){n(!1),d(!0),b.b.success("Sauvegarde r\xe9ussie!",{icon:"\ud83e\udd73"})}),500)})).catch((function(e){B(!1),b.b.error("Une erreur est survenue pendant la sauvegarde",{icon:"\u2639\ufe0f"})}))}(t,n)},deleteElement:function(t,n){return function(t,n){B(!0),m.a.delete("/private/".concat(f,"/").concat(t._id,"/?token=").concat(e.token)).then((function(e){setTimeout((function(){n(!1),d(!0),b.b.success("Suppression r\xe9ussie!",{icon:"\ud83e\udd73"})}),500)})).catch((function(e){B(!1),b.b.error("Une erreur est survenue pendant la suppression",{icon:"\u2639\ufe0f"})}))}(t,n)}},t._id)}))})]})]}):Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(P,{}),Object(r.jsx)("div",{className:"container-admin",children:Object(r.jsx)("div",{className:"container-loader",children:Object(r.jsx)(L.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:1e4})})})]})}var K=n(107),W=n.n(K);function Z(e){var t=e.image,n=e.setelementToDelete,c=e.selectImage,a=e.projectData;var s=function(e){e=Math.abs(parseInt(e,10));for(var t=[[1,"octets"],[1024,"ko"],[1048576,"Mo"],[1073741824,"Go"],[1099511627776,"To"]],n=0;n<t.length;n++)if(e<t[n][0])return(e/t[n-1][0]).toFixed(2)+" "+t[n-1][1]}(t.bytes);return Object(r.jsxs)("div",{className:W.a.imageContainer,onClick:function(){return c(t)},children:[Object(r.jsx)("img",{className:a&&a.images.find((function(e){return e.name===t.public_id}))?W.a.imageTransformSelected:"",src:t.secure_url,alt:t.filename}),Object(r.jsxs)("span",{children:[" ",s," . ",t.format]}),Object(r.jsx)("span",{className:"delete-item",onClick:function(){return n(t)},children:Object(r.jsx)(H.a,{})})]})}var Q=n(108),X=n.n(Q),$=n(109),ee=n.n($),te=n(193);n(382);function ne(e){var t=e.modalIsOppen,n=e.setModalIsOppen,a=e.setFetchData,s=Object(c.useContext)(u).authBody,i=Object(c.useState)(""),l=Object(o.a)(i,2),j=l[0],d=l[1],O=Object(c.useState)(""),m=Object(o.a)(O,2),h=m[0],f=m[1],x=Object(c.useState)(),p=Object(o.a)(x,2),v=p[0],g=p[1],N=Object(c.useState)(""),S=Object(o.a)(N,2),k=(S[0],S[1],Object(c.useState)("")),y=Object(o.a)(k,2),F=(y[0],y[1]),_=Object(c.useState)(!1),w=Object(o.a)(_,2),A=w[0],B=w[1],I=function(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){f(t.result)}},T=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/private/upload?token=".concat(s.token),{method:"POST",body:JSON.stringify({data:t}),headers:{"Content-Type":"application/json"}});case 3:d(""),f(""),b.b.success("Sauvegarde r\xe9ussie!",{icon:"\ud83e\udd73"}),a(!0),setTimeout((function(){B(!1),n(!1)}),500),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),B(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)(V,{isOpen:t,width:"800",height:"650",onClose:function(){return n(!1)},children:[Object(r.jsx)("div",{className:"modal_header has_border",children:"Uploader une nouvelle image"}),Object(r.jsxs)("div",{className:"modal_body",children:[Object(r.jsx)(b.a,{}),Object(r.jsx)("input",{id:"fileInput",type:"file",name:"image",onChange:function(e){var t=e.target.files[0];I(t),g(t),d(e.target.value)},value:j,className:"form-input"}),h&&Object(r.jsx)("img",{src:h,alt:"chosen",style:{height:"300px"}}),Object(r.jsxs)("div",{className:"container-btn-upload",children:[Object(r.jsx)(C,{onClickFunction:function(){return n(!1)},message:"Annuler",color:"warning"}),Object(r.jsx)(C,{onClickFunction:function(e){return function(e){if(e.preventDefault(),v){console.log("selectedFile",v);var t=new FileReader;t.readAsDataURL(v),t.onloadend=function(){B(!0),T(t.result)},t.onerror=function(){console.error("AHHHHHHHH!!"),B(!1),F("something went wrong!")},console.log("reader",t)}}(e)},message:"Uploader une image",color:"success"})]}),A&&Object(r.jsx)("div",{className:"container-loader",children:Object(r.jsx)(L.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:1e5})})]})]})})}function ce(){var e=Object(c.useContext)(u).authBody,t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(!0),l=Object(o.a)(i,2),j=l[0],d=l[1],O=Object(c.useState)(),h=Object(o.a)(O,2),f=h[0],x=h[1],p=Object(c.useState)(!0),v=Object(o.a)(p,2),g=v[0],N=v[1],S=Object(c.useState)(),k=Object(o.a)(S,2),y=k[0],F=k[1],_=M(j,"/private/images?token=".concat(e.token),"get"),w=_.response;_.error;Object(c.useEffect)((function(){w&&(N(!1),x(w),d(!1))}),[w]);return f?Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(P,{}),Object(r.jsxs)("div",{className:"container-admin",children:[Object(r.jsx)("h1",{children:"Gestion des images"}),y&&Object(r.jsx)(D,{cancel:function(){return F()},title:"Voullez vous vraiment supprimer ".concat(y.filename," ?"),children:Object(r.jsxs)("div",{className:"btnCenter",children:[Object(r.jsx)(C,{onClickFunction:function(e){F()},message:"Annuler",color:"alert",style:"primary"}),Object(r.jsx)(C,{onClickFunction:function(){var t;t=y,N(!0),m.a.delete("/private/project/".concat(t._id,"/?token=").concat(e.token)).then((function(e){setTimeout((function(){F(),d(!0),b.b.success("Suppression r\xe9ussie!",{icon:"\ud83e\udd73"})}),500)})).catch((function(e){N(!1),b.b.error("Une erreur est survenue pendant la suppression",{icon:"\u2639\ufe0f"})}))},message:"Supprimer",color:"success",style:"outline"})]})}),a&&Object(r.jsx)(ne,{modalIsOppen:a,setFetchData:function(e){return d(e)},setModalIsOppen:function(e){return s(e)}}),Object(r.jsx)("div",{className:X.a.btnAddImg,children:Object(r.jsx)(C,{message:"Ajouter des images",onClickFunction:function(){return s(!0)}})}),Object(r.jsxs)("div",{className:X.a.containerImages,children:[Object(r.jsx)(b.a,{}),Object(r.jsx)("div",{className:"containerImages",children:f&&f.map((function(e){return Object(r.jsx)(Z,{image:e,setelementToDelete:function(e){return F(e)}},e.asset_id)}))}),g&&Object(r.jsx)("div",{className:"container-loader",children:Object(r.jsx)(L.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:1e4})})]})]})]}):Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(P,{}),Object(r.jsx)("div",{className:"container-admin",children:Object(r.jsx)("div",{className:"container-loader",children:Object(r.jsx)(L.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:1e4})})})]})}function ae(){var e=Object(c.useContext)(u),t=(e.authenticated,e.setAuthenticated),n=e.authBody;e.setAuthBody;return Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsx)(P,{setAuthenticated:function(e){return t(e)},authBody:n}),Object(r.jsx)("div",{})]})}var se=n(71);n(255);function ie(e){var t=e.onChangeFunction,n=e.name,c=e.value,a=e.label;return Object(r.jsxs)("div",{className:"container-textarea-custom",children:[Object(r.jsx)("label",{htmlFor:"name",children:a}),Object(r.jsx)("textarea",{name:n,value:c,onChange:function(e){return t(e)}})]})}n(256);var oe=n(86),re=n(196),ue=(n(257),n(310),n(195)),le=n(12),je=n.n(le),de=n(386);function be(){var e=Object(j.h)().id,t=Object(re.a)(),n=Object(c.useState)({calendarFocused:!1}),a=Object(o.a)(n,2),s=a[0],i=a[1],l=Object(c.useContext)(u).authBody,d=Object(c.useState)(!1),O=Object(o.a)(d,2),f=O[0],x=O[1],g=Object(c.useState)(!1),N=Object(o.a)(g,2),S=N[0],k=N[1],y=Object(c.useState)(),F=Object(o.a)(y,2),_=F[0],w=F[1],A=Object(c.useState)(),B=Object(o.a)(A,2),I=B[0],T=B[1],D=Object(c.useState)(),E=Object(o.a)(D,2),H=E[0],U=E[1],z=Object(c.useState)(),J=Object(o.a)(z,2),G=J[0],R=J[1],Y=Object(c.useState)(),q=Object(o.a)(Y,2),K=q[0],W=q[1],Q=Object(c.useState)(),X=Object(o.a)(Q,2),$=X[0],ee=X[1],te=Object(c.useState)(je()()),ne=Object(o.a)(te,2),ce=ne[0],ae=ne[1],le=M(f,"/project/".concat(e),"get"),be=le.response,Oe=(le.error,Object(c.useState)(!1)),me=Object(o.a)(Oe,2),he=me[0],fe=me[1],xe=Object(c.useState)([]),pe=Object(o.a)(xe,2),ve=pe[0],ge=pe[1],Ce=Object(c.useState)(!1),Ne=Object(o.a)(Ce,2),Se=Ne[0],ke=Ne[1],ye=Object(c.useState)({name:"",url:""}),Fe=Object(o.a)(ye,2),_e=Fe[0],we=Fe[1],Ae=Object(c.useState)(!1),Be=Object(o.a)(Ae,2),Ie=Be[0],Te=Be[1],Pe=Object(c.useState)(),Me=Object(o.a)(Pe,2),De=Me[0];Me[1];console.log("imageSelected",De);Object(c.useEffect)((function(){m.a.get("/private/languages?token=".concat(l.token)).then((function(e){T(e.data)})).catch((function(e){b.b.error("Une erreur est survenue pendant la r\xe9cup\xe9ration des languages",{icon:"\u2639\ufe0f"})})),m.a.get("/private/tags?token=".concat(l.token)).then((function(e){W(e.data)})).catch((function(e){b.b.error("Une erreur est survenue pendant la r\xe9cup\xe9ration des tags",{icon:"\u2639\ufe0f"})}))}),[]),console.log("projectData",_),Object(c.useEffect)((function(){"new"!==e?(x(!0),Te(!0)):(w({devices:["desktop"],language:[],tags:[],isMainProject:!1,links:[],name:"",description:"",images:[],imageHome:{name:"",url:""},year:je()()}),k(!0))}),[e]),Object(c.useEffect)((function(){be&&(U(be[0].devices.map((function(e){return{value:e,label:e}}))),R(be[0].language.map((function(e){return{value:e,label:e}}))),ee(be[0].tags.map((function(e){return{value:e,label:e}}))),ae(je()(be[0].year)),w(be[0]),Te(!1),x(!1))}),[be]);var Ee=function(e){w(Object(h.a)(Object(h.a)({},_),{},Object(v.a)({},e.target.name,e.target.value)))},Le=function(e){var t=Object(h.a)({},_e);t[e.target.name]=e.target.value,we(t)},He=function(e){fe(!0),we(e||{name:"",url:"",id:Object(de.a)()})};Object(c.useEffect)((function(){Se&&(Te(!0),m.a.get("/private/images?token=".concat(l.token)).then((function(e){Te(!1),ge(e.data)})).catch((function(e){Te(!1),b.b.error("Une erreur est survenue pendant la r\xe9cup\xe9ratin des images",{icon:"\u2639\ufe0f"})})))}),[Se]);return _?Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(P,{}),Object(r.jsxs)(V,{isOpen:he,width:"500",height:"350",onClose:function(){return fe(!1)},children:[Object(r.jsxs)("div",{className:"modal_header has_border",children:["Ajouter un lien au projet ",_&&_.name]}),Object(r.jsxs)("div",{className:"modal_body",children:[Object(r.jsx)(p,{name:"name",label:"Type",width:"50%",value:_e.name,onChangeFunction:Le}),Object(r.jsx)(p,{name:"url",label:"Url",width:"50%",value:_e.url,onChangeFunction:Le})]}),Object(r.jsxs)("div",{className:" modal_footer modal_footer_center ",children:[Object(r.jsx)(C,{onClickFunction:function(){return fe(!1)},message:"Annuler",color:"alert"}),Object(r.jsx)(C,{onClickFunction:function(){return function(){if(_e._id){var e=_e,t=_.links.filter((function(e){return e._id!==_e._id}));w(Object(h.a)(Object(h.a)({},_),{},{links:[].concat(Object(se.a)(t),[e])})),fe(!1)}else{var n=_.links.find((function(e){return e.id===_e.id}));if(n){n=_e;var c=_.links.filter((function(e){return e.id!==_e.id}));w(Object(h.a)(Object(h.a)({},_),{},{links:[].concat(Object(se.a)(c),[n])})),fe(!1)}else{var a=Object(h.a)({},_),s=Object(h.a)({},_e);a.links.push(s),w(a),fe(!1)}}}()},message:"Ok"})]})]}),Se&&Object(r.jsxs)(V,{isOpen:Se,width:"800",height:"800",onClose:function(){return ke(!1)},children:[Object(r.jsxs)("div",{className:"modal_header has_border",children:["Ajouter des images au projet ",_&&_.name]}),Object(r.jsxs)("div",{className:"modal_body",children:[Ie&&Object(r.jsx)("div",{className:"container-loader",children:Object(r.jsx)(L.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:1e4})}),Object(r.jsx)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",flexWrap:"wrap"},children:ve&&ve.map((function(e){return Object(r.jsx)(Z,{image:e,selectImage:function(e){return function(e){var t=Object(se.a)(_.images);t.find((function(t){return t.name===e.public_id}))?(t=t.filter((function(t){return t.name!==e.public_id})),w((function(e){return Object(h.a)(Object(h.a)({},e),{},{images:t})}))):t=[].concat(Object(se.a)(t),[{name:e.public_id,url:e.secure_url}]),w((function(e){return Object(h.a)(Object(h.a)({},e),{},{images:t})})),console.log(e)}(e)},projectData:_},e.asset_id)}))})]}),Object(r.jsx)("div",{className:" modal_footer modal_footer_center ",children:Object(r.jsx)(C,{onClickFunction:function(){return ke(!1)},message:"Ok"})})]}),Object(r.jsxs)("div",{className:"container-admin",children:[Object(r.jsx)(b.a,{}),Ie&&Object(r.jsx)("div",{className:"container-loader",children:Object(r.jsx)(L.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:100})}),Object(r.jsxs)("div",{className:"container-project",children:[Object(r.jsxs)("h1",{children:["Page d'\xe9dition du projet ",_&&_.name]}),Object(r.jsx)(C,{message:"Valider",onClickFunction:S?function(){Te(!0),m.a.post("/private/projects/?token=".concat(l.token),_).then((function(e){setTimeout((function(){b.b.success("Sauvegarde r\xe9ussie!",{icon:"\ud83e\udd73"}),Te(!1)}),500)})).catch((function(e){Te(!1),b.b.error("Une erreur est survenue pendant la cr\xe9ation",{icon:"\u2639\ufe0f"})}))}:function(){Te(!0),m.a.patch("/private/project/".concat(e,"/?token=").concat(l.token),_).then((function(e){setTimeout((function(){b.b.success("Sauvegarde r\xe9ussie!",{icon:"\ud83e\udd73"}),Te(!1)}),500)})).catch((function(e){Te(!1),b.b.error("Une erreur est survenue pendant la sauvegarde",{icon:"\u2639\ufe0f"})}))}}),Object(r.jsx)("label",{children:"Dates de l'\xe9v\xe9nement"}),Object(r.jsx)(ue.SingleDatePicker,{date:ce,id:"your_unique_id",numberOfMonths:1,displayFormat:"DD/MM/YYYY",focused:s.calendarFocused,onFocusChange:function(e){var t=e.focused;i((function(){return{calendarFocused:t}}))},onDateChange:function(e){ae((function(){return e})),w(Object(h.a)(Object(h.a)({},_),{},{year:e}))},isOutsideRange:function(){return!1}}),Object(r.jsx)(p,{name:"name",label:"Nom du projet",width:"50%",value:_&&_.name,onChangeFunction:Ee}),Object(r.jsxs)("div",{className:"container-select-devices",children:[Object(r.jsx)("label",{children:"Devices"}),Object(r.jsx)(oe.a,{closeMenuOnSelect:!0,value:H&&H,components:t,menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(h.a)(Object(h.a)({},e),{},{zIndex:1e4})}},menuPosition:"fixed",isMulti:!0,options:[{value:"desktop",label:"desktop"},{value:"mobile",label:"mobile"}],placeholder:"Selectionner des devices",onChange:function(e){var t=e&&e.map((function(e){return e.value}));U(e),w(Object(h.a)(Object(h.a)({},_),{},{devices:t}))}})]}),Object(r.jsxs)("div",{className:"container-select-devices",children:[Object(r.jsx)("label",{children:"Languages"}),Object(r.jsx)(oe.a,{closeMenuOnSelect:!0,value:G&&G,components:t,menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(h.a)(Object(h.a)({},e),{},{zIndex:1e4})}},menuPosition:"fixed",isMulti:!0,options:I&&I,placeholder:"Selectionner des languages",onChange:function(e){var t=e&&e.map((function(e){return e.value}));R(e),w(Object(h.a)(Object(h.a)({},_),{},{language:t}))}})]}),Object(r.jsxs)("div",{className:"container-select-devices",children:[Object(r.jsx)("label",{children:"Tags"}),Object(r.jsx)(oe.a,{closeMenuOnSelect:!0,value:$&&$,components:t,menuPortalTarget:document.body,styles:{menuPortal:function(e){return Object(h.a)(Object(h.a)({},e),{},{zIndex:1e4})}},menuPosition:"fixed",isMulti:!0,options:K&&K,placeholder:"Selectionner des tags",onChange:function(e){var t=e&&e.map((function(e){return e.value}));ee(e),w(Object(h.a)(Object(h.a)({},_),{},{tags:t}))}})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"liens",children:"Liens"})," ",Object(r.jsx)("span",{onClick:function(){return He()},children:"Add"}),Object(r.jsx)("ul",{children:_&&_.links.map((function(e){return Object(r.jsx)("li",{onClick:function(){return He(e)},children:e.url},e._id)}))})]}),Object(r.jsx)("h2",{children:"jkh"}),Object(r.jsx)(ie,{name:"description",label:"Description",value:_&&_.description,onChangeFunction:Ee}),Object(r.jsxs)("div",{className:"images-administration",children:[Object(r.jsx)("h2",{onClick:function(){return ke(!0)},children:"Images du projet"}),Object(r.jsx)("div",{className:"images-project-list",children:_&&_.images.map((function(e){return Object(r.jsx)("img",{className:"image-project",src:e.url,alt:e.name})}))})]})]})]})]}):Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(P,{}),Object(r.jsx)("div",{className:"container-admin",children:Object(r.jsx)("div",{className:"container-loader",children:Object(r.jsx)(L.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:1e4})})})]})}var Oe=function(){var e=Object(j.g)(),t=Object(c.useState)([]),n=Object(o.a)(t,2),a=(n[0],n[1],Object(c.useState)([])),s=Object(o.a)(a,2),i=(s[0],s[1],Object(c.useState)(0)),u=Object(o.a)(i,2);return u[0],u[1],Object(r.jsx)(d.a,{history:e,children:Object(r.jsx)(l,{children:Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.b,{path:"/home",component:B,exact:!0}),Object(r.jsx)(j.b,{path:"/news",component:A,exact:!0}),Object(r.jsx)(j.b,{path:"/login",component:S,exact:!0}),Object(r.jsx)(x,{exact:!0,path:"/profile",component:I}),Object(r.jsx)(x,{exact:!0,path:"/dashboard",component:ae,mustBeAdmin:!0}),Object(r.jsx)(x,{path:"/dashboard/languages",component:q,mustBeAdmin:!0}),Object(r.jsx)(x,{path:"/dashboard/projects",component:z,mustBeAdmin:!0}),Object(r.jsx)(x,{path:"/dashboard/images",component:ce,mustBeAdmin:!0}),Object(r.jsx)(j.b,{exact:!0,path:"/project/:id",component:be}),Object(r.jsx)(j.a,{exact:!0,from:"/",to:"/login"})]})})})},me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,387)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(Oe,{})}),document.getElementById("root")),me()}},[[381,1,2]]]);
//# sourceMappingURL=main.fac76050.chunk.js.map